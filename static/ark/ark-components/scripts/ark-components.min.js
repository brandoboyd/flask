"use strict";angular.module("underscore",[]).factory("_",function(){return window._}),angular.module("ark-components",["ngCookies","ngSanitize","underscore"]),angular.module("ark-components").run(["$templateCache",function(a){a.put("ark-app-launcher/ark-app-launcher.html",'<nav class="ark-app-launcher navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div id="nav_header" class="navbar-header">\n      <a class="navbar-brand" href="#">\n        <span class="fonticon icon-special-g-brandmark"></span>\n        <span>{{ currentAppName }}</span>\n      </a>\n    </div>\n\n    <!-- Collect the nav links, forms, and other content for toggling -->\n    <div class="collapse navbar-collapse">\n      <ul class="nav navbar-nav navbar-right">\n        <!-- User Menu -->\n        <li class="dropdown">\n          <a href data-toggle="dropdown">{{ user.name | truncate:false:25 }}</a>\n          <ul class="dropdown-menu">\n            <li ng-if="aboutApplication">\n              <a href ng-click="aboutApplication()">{{ localization.localizedStrings.ABOUT }} {{ currentAppName }}</a>\n            </li>\n            <li ng-if="aboutApplication" class="divider"></li>\n            <li ng-repeat="item in usermenu" ng-if="!item.disable" ng-class="{divider: item.isDivider}">\n              <a ng-if="!item.isDivider && !item.customAction" ng-href="{{ item.url }}" ng-attr-target="{{ item.target }}">\n                {{ item.name }}\n              </a>\n              <a ng-if="!item.isDivider && item.customAction" href ng-click="customAction(item)">\n                {{ item.name }}\n              </a>\n            </li>\n          </ul>\n        </li>\n        <!-- Localization -->\n        <li class="dropdown" ng-if="localization">\n          <a href class="dropdown-toggle" data-toggle="dropdown">\n            <div ng-class="localizationIcons[currentLanguage.id]"></div>\n            {{ currentLanguage.shortName }}\n          </a>\n          <ul class="dropdown-menu">\n            <li ng-repeat="language in localization.languages">\n              <a href ng-click="changeLanguage(language.id)">\n                <div ng-class="localizationIcons[language.id]"></div>\n                {{ language.localizedName }}\n              </a>\n            </li>\n          </ul>\n        </li>\n        <!-- Help -->\n        <li ng-if="helpmenu">\n          <a ng-href="{{ helpmenu.getUrl() }}" ng-attr-target="{{ helpmenu.target }}">\n            <span ng-if="helpmenu.fonticon" class="fonticon"\n            ng-class="helpmenu.fonticon"\n            ng-attr-title="{{ helpmenu.name }}"></span>\n          </a>\n        </li>\n        <!-- App Launcher -->\n        <li class="app-launcher-dropdown dropdown" ng-if="appLauncherEnable && appGroups">\n          <a href class="dropdown-toggle" data-toggle="dropdown">\n            <span title="App Launcher">\n              <span class="fonticon icon-dialpad"></span>\n            </span>\n          </a>\n          <ul class="dropdown-menu">\n            <li ng-repeat-start="(name, apps) in appGroups" class="title">{{ name }}</li>\n            <li ng-repeat="app in apps">\n              <a href ng-href="{{ app.links[0].url }}" target="_blank">\n                <img ng-src="{{ baseUrlAssets }}{{ app.image32 }}">\n                <span>{{ app.name }}</span>\n              </a>\n            </li>\n            <li ng-repeat-end class="divider"></li>\n            <li ng-if="false">\n              <a href>\n                <span class="fonticon icon-dialpad" style="font-size: 24px"></span>\n                {{ localization.localizedStrings.ALL_APPS }}\n              </a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div><!-- /.navbar-collapse -->\n  </div><!-- /.container-fluid -->\n</nav>\n'),a.put("ark-datepicker/ark-datepicker-popup-wrap.html","<ul class=\"dropdown-menu ark-datepicker-wrap\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n  <li ng-transclude></li>\n"+'  <li ng-if="showButtonBar" style="padding:10px 9px 2px">\n    <span class="btn-group">\n      <button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right" ng-click="$parent.isOpen = false">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n'),a.put("ark-datepicker/ark-datepicker.html",'<div ng-switch="datepickerMode" class="ark-datepicker">\n  <ark-daypicker ng-switch-when="day"></ark-daypicker>\n  <ark-monthpicker ng-switch-when="month"></ark-monthpicker>\n  <ark-yearpicker ng-switch-when="year"></ark-yearpicker>\n</div>\n'),a.put("ark-datepicker/ark-daypicker.html",'<div class="day-view text-center">\n  <div class="month-index">\n    <table>\n      <thead>\n        <tr>\n          <th>\n            <button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)">\n              <i class="fonticon icon-chevron-left"></i>\n            </button>\n          </th>\n          <th colspan="{{ 5 + showWeeks }}">\n            <button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()">\n              <strong>{{ title }}</strong>\n            </button>\n          </th>\n          <th>\n            <button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)">\n              <i class="fonticon icon-chevron-right"></i>\n            </button>\n          </th>\n        </tr>\n      </thead>\n    </table>\n  </div>\n  <div class="day-table">\n    <table>\n      <thead>\n        <tr class="ark-datepicker-labels">\n          <th ng-show="showWeeks" class="text-center"></th>\n          <th ng-repeat="label in labels track by $index" class="text-center day-label">\n            <small>{{ label }}</small>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="row in rows track by $index">\n          <td ng-show="showWeeks" class="text-center">\n            <small><em>{{ weekNumbers[$index] }}</em></small>\n          </td>\n          <td ng-repeat="dt in row track by dt.date" class="text-center">\n            <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled">\n              <span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">\n                {{ dt.label }}\n              </span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="ark-timepicker calendar-timepicker" ng-if="timepickerMode">\n    <div class="timepicker-content" ng-show="!timeZoneShow">\n      <div class="col-container first">\n        <div class="icon-iw-circle-no-chevron-up arrow" while-pressed="addHour()"></div>\n        <div class="dropdown open">\n          <input type="text" maxlength="2" ng-model="timeData.hour" ng-click="showHour()" ng-blur="validateHour()">\n          <ul ng-show="showHourList" class="dropdown-menu">\n            <li ng-repeat="list in hourList">\n              <a href ng-mousedown="selectHour(list)" ng-class="{selected: list === hour}">\n              {{ list }}\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class="icon-iw-circle-no-chevron-down arrow" while-pressed="minusHour()"></div>\n      </div>\n      <div class="col-container column"><b>:</b></div>\n      <div class="col-container">\n        <div class="icon-iw-circle-no-chevron-up arrow" while-pressed="addMinute()"></div>\n        <div class="dropdown open">\n          <input type="text" maxlength="2" ng-model="timeData.minute" ng-click="showMinute()" ng-blur="validateMinute()">\n          <ul ng-show="showMinuteList" class="dropdown-menu">\n            <li ng-repeat="list in minuteList">\n              <a href ng-mousedown="selectMinute(list)" ng-class="{selected: list===minute}">\n              {{ list }}\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class="icon-iw-circle-no-chevron-down arrow" while-pressed="minusMinute()"></div>\n      </div>\n      <div class="col-container last">\n        <div class="icon-iw-circle-no-chevron-up arrow" ng-click="changeNoon()"></div>\n        <input type="text" maxlength="2" ng-model="timeData.noon" ng-blur="validateNoon()" readonly>\n        <div class="icon-iw-circle-no-chevron-down arrow" ng-click="changeNoon()"></div>\n      </div>\n      <div class="col-container last timepicker-button" ng-if="timezoneMode" ng-click="toggleTimeZone()">\n        <span class="fonticon icon-clock-timezone"></span>\n      </div>\n    </div>\n    <div class="timepicker-content" ng-if="timezoneMode" ng-show="timeZoneShow">\n      <div class="col-container">\n        <div class="icon-iw-circle-no-chevron-up arrow timezone" ng-click="addTimeZone()"></div>\n        <div class="dropdown open">\n          <input type="text" class="timezone" maxlength="9" ng-model="timeData.timeZone" ng-click="showTimeZone()" ng-blur="validateTimeZone()" readonly>\n          <ul ng-show="showTimeZoneList" class="dropdown-menu timezone">\n            <li ng-repeat="list in timeZoneList">\n              <a href ng-mousedown="selectTimeZone(list, $index)" class="timezone" ng-class="{selected: list === timeZone}">\n              {{ list }}\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class="icon-iw-circle-no-chevron-down arrow timezone" ng-click="minusTimeZone()"></div>\n      </div>\n      <div class="col-container last timepicker-button" ng-click="toggleTimeZone()">\n        <span class="fonticon icon-clock"></span>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("ark-datepicker/ark-monthpicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),a.put("ark-datepicker/ark-yearpicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'),a.put("ark-filter-bar/ark-filter-bar.html",'<div class="ark-filter-bar">\r\n  <div class="input-container">\r\n    <input type="text" ng-model="searchText" class="form-control filter-search-box" placeholder="Search">\r\n    <span class="icon-search search-box-icon"></span>\r\n    <span class="icon-close search-box-cancel" ng-show="hasContent" ng-click="clearInputText()"></span>\r\n    <div class="spinner-container input-spinner" ng-show="isSearching">\r\n      <div class="spin-circle"></div>\r\n      <div class="spin-inner-circle"></div>\r\n    </div>\r\n  </div>\r\n  <div ng-if="displayDropdown" class="dropdown open">\r\n    <ul class="dropdown-menu filter-dropdown" aria-labelledby="filterDropdown">\r\n      <li ng-repeat="item in items" ng-init="breakIndex = item.toLowerCase().indexOf(prevSearchText.toLowerCase())">\r\n        <a class="items-found" ng-click="clickItem(item)">\r\n          {{ item.substring(0, breakIndex) }}<b>{{ item.substring(breakIndex, (breakIndex + prevSearchText.length)) }}</b>{{ item.substring((breakIndex + prevSearchText.length)) }}\r\n        </a>\r\n      </li>\r\n      <li ng-if="items.length === 0">\r\n        <a class="not-found">\r\n          Search for "<b>{{ prevSearchText }}</b>" not found\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'),a.put("ark-footer/ark-footer.html",'<footer ng-class="showLargeFooter ? \'ark-footer\' : \'ark-footer-slim\'">\r\n  <!-- Large footer - displayed if @showLargeFooter is true -->\r\n  <div class="large-footer" ng-if="showLargeFooter">\r\n    <div class="rsection">\r\n      <img class="logo-img" ng-src="{{ tenantLogoLink }}" alt="">\r\n      <div class="powered-by">{{ i18n.POWERED_BY }}</div>\r\n      <div class="version" ng-if="appVersion">{{ appVersion }}</div>\r\n    </div>\r\n\r\n    <div class="links" ng-if="showTermsofUse || showPrivacyPolicy">\r\n      <span ng-if="showTermsofUse">\r\n        <a class="terms-of-use" target="_blank" href ng-href="{{ termsAndConditions }}">\r\n          {{ i18n.TERMS_OF_USE }}\r\n        </a>\r\n      </span>\r\n      <span ng-if="showTermsofUse && showPrivacyPolicy"> / </span>\r\n      <span ng-if="showPrivacyPolicy">\r\n        <a class="privacy-policy" target="_blank" href ng-href="{{ privacyPolicy }}">\r\n          {{ i18n.PRIVACY_POLICY }}\r\n        </a>\r\n      </span>\r\n    </div>\r\n    <div class="logo" ng-if="genesysLogoLink && !(showTermsofUse || showPrivacyPolicy)">\r\n      <img ng-src="{{ genesysLogoLink }}" alt="Genesys">\r\n    </div>\r\n    <div class="copyright">&copy; {{ currentYear }} {{ i18n.COPYRIGHT }}</div>\r\n  </div>\r\n\r\n  <!-- Small footer - displayed if @showLargeFooter is false -->\r\n  <ul class="small-footer" ng-if="!showLargeFooter">\r\n    <li class="left">\r\n      <div class="copyright">\r\n        <span class="fonticon icon-special-g-brandmark g-thumb"></span>\r\n        &copy; {{ currentYear }} {{ i18n.COPYRIGHT }}\r\n      </div><!-- left -->\r\n    </li>\r\n    <li class="left" ng-if="showTermsofUse">\r\n      <div class="terms-of-use">\r\n        <a target="_blank" href ng-href="{{ termsAndConditions }}">{{ i18n.TERMS_OF_USE }}</a>\r\n      </div>\r\n    </li>\r\n    <li class="left" ng-if="showPrivacyPolicy">\r\n      <div class="privacy-policy">\r\n        <a target="_blank" href ng-href="{{ privacyPolicy }}">{{ i18n.PRIVACY_POLICY }}</a>\r\n      </div>\r\n    </li>\r\n    <li class="right">\r\n      <div class="logo">\r\n        <img ng-src="{{ tenantLogoLink }}" alt="">\r\n      </div>\r\n    </li>\r\n    <li class="right" ng-if="appVersion">\r\n      <div class="version">Version {{ appVersion }}</div>\r\n    </li>\r\n  </ul>\r\n</footer>\r\n'),a.put("ark-login/ark-login.html",'<div class="ark-login">\r\n  <div class="container">\r\n    <div class="branding">\r\n      <img ng-src="{{ genesysLogoLink }}" alt="Genesys Logo" />\r\n    </div>\r\n    <div class="well">\r\n      <form class="form-signin" role="form" ng-show="!isLoading">\r\n        <div class="form-group">\r\n          <h2>{{ formTitle.page }}</h2>\r\n          <div class="ark-login-fields" ng-class="{\'has-error\': errorMessage}">\r\n            <input type="text" ng-model="userNameInput" class="form-control ark-login-username" placeholder="{{ formTitle.username }}"/>\r\n            <input type="password" ng-model="passwordInput" class="form-control ark-login-password" placeholder="{{ formTitle.password }}"/>\r\n          </div>\r\n          <div class="btn-group bootstrap-select login-select" ng-show="showLanguageBar">\r\n            <button ark-select type="button" class="btn btn-default dropdown-toggle selectpicker" ng-model="language" ng-options="item.title for item in languageMenu">\r\n            </button>\r\n          </div>\r\n          <div class="error-container" ng-show="errorMessage">\r\n            <span class="icon-alert-octo"> </span>\r\n            <div class="ark-login-error-messages">{{ errorMessage }}</div>\r\n          </div>\r\n          <div class="ark-login-button">\r\n            <button ng-click="login()" class="btn btn-primary btn-block">\r\n              {{ formTitle.button }}\r\n            </button>\r\n          </div>\r\n          <div class="ark-login-forgot-password" ng-if="showForgotPassword">\r\n            <a href ng-click="forgotPasswordFn()">\r\n              {{ formTitle.forgotPassword }}\r\n            </a>\r\n          </div>\r\n          <div class="remote-message" ng-if="remoteMessageUrl">\r\n            {{ remoteMessage }}\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <div class="loading-container" ng-show="isLoading">\r\n        <h2>{{ formTitle.loading }}</h2>\r\n        <div class="spinner-container">\r\n          <div class="spin-circle"></div>\r\n          <div class="spin-inner-circle"></div>\r\n        </div>\r\n      </div>\r\n    </div><!-- well -->\r\n  </div><!-- container -->\r\n</div><!-- login -->\r\n'),a.put("ark-navbar/ark-navbar.html",'<nav class="ark-navbar navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div ng-if="navigationJSON.header"\n      ng-attr-id="{{ navigationJSON.header.id }}"\n      class="navbar-header">\n      <a ng-if="navigationJSON.header && navigationJSON.header.route"\n        ng-href="{{ navigationJSON.header.route }}"\n        class="navbar-brand">\n        <span ng-if="navigationJSON.header.fonticon" class="fonticon"\n          ng-class="navigationJSON.header.fonticon"></span>\n        <span>{{ i18n ? i18n[navigationJSON.header.id] : \'\' }}</span>\n      </a>\n      <a ng-if="navigationJSON.header && !navigationJSON.header.route"\n        class="navbar-brand">\n        <span ng-if="navigationJSON.header.fonticon" class="fonticon"\n          ng-class="navigationJSON.header.fonticon"></span>\n        <span>{{ i18n ? i18n[navigationJSON.header.id] : \'\' }}</span>\n      </a>\n    </div>\n    <!-- Collect the nav links, forms, and other content for toggling -->\n    <div class="collapse navbar-collapse">\n      <!-- left -->\n      <ul class="nav navbar-nav">\n        <li ng-repeat="item in navigationJSON.left"\n          ng-attr-id="{{ item.id }}"\n          ng-class="{dropdown: item.children, active: matchRoute(item.route).module}">\n          <a ng-href="{{ !item.children ? item.route : \'#\' }}"\n            ng-class="{\'dropdown-toggle\': item.children}"\n            data-toggle="{{ item.children ? \'dropdown\' : \'\' }}">\n            <span ng-if="!item.fonticon">{{ i18n ? i18n[item.id] : \'\' }} <b ng-if="item.caret == true" class="caret"></b></span>\n            <span ng-if="item.fonticon" ng-attr-title="{{ i18n ? i18n[item.id] : \'\' }}">\n              <span class="fonticon" ng-class="item.fonticon"></span>\n              <b ng-if="item.caret == true" class="caret"></b>\n            </span>\n          </a>\n          <ul ng-if="item.children" class="dropdown-menu">\n              <li ng-repeat="subItem in item.children"\n                ng-attr-id="{{ subItem.id }}"\n                ng-class="{dropdown: subItem.children, divider: subItem.type == \'sub-group\', active: matchRoute(subItem.route).subModule}">\n                <a ng-if="subItem.type == \'sub-item\'"\n                  ng-href="{{ !subItem.children ? subItem.route : \'\' }}"\n                  ng-class="{\'dropdown-toggle dropdown-nested\': subItem.children}"\n                  data-toggle="{{ subItem.children ? \'dropdown\' : \'\' }}">\n                  {{ i18n ? i18n[subItem.id] : \'\' }}</a>\n                <span ng-if="subItem.type == \'sub-group\'">{{ i18n ? i18n[subItem.id] : \'\' }}</span>\n                <ul ng-if="subItem.children" class="dropdown-menu sub-menu">\n                  <li ng-repeat="subSubItem in subItem.children"\n                    ng-attr-id="{{ subSubItem.id }}"\n                    ng-class="{divider: subSubItem.type == \'sub-group\', active: matchRoute(subSubItem.route).subModule}">\n                    <a ng-if="subSubItem.type == \'sub-item\'"\n                      ng-href="{{ subSubItem.route }}">\n                      {{ i18n ? i18n[subSubItem.id] : \'\' }}</a>\n                    <span ng-if="subSubItem.type == \'sub-group\'">{{ i18n ? i18n[subSubItem.id]  : \'\' }}</span>\n                  </li>\n                </ul>\n              </li>\n          </ul>\n        </li>\n      </ul>\n      <!-- right -->\n      <ul class="nav navbar-nav navbar-right">\n        <li ng-repeat="item in navigationJSON.right"\n          ng-attr-id="{{ item.id }}"\n          ng-class="{dropdown: (item.children || item.type === \'search-item\'), active: (matchRoute(item.route).module)}">\n          <a ng-if="item.route && item.type !== \'search-item\'"\n            ng-href="{{ !item.children ? item.route : \'#\' }}"\n            ng-class="{\'dropdown-toggle\': item.children}"\n            data-toggle="{{ item.children ? \'dropdown\' : \'\' }}">\n            <span ng-if="!item.fonticon">{{ i18n ? i18n[item.id] : \'\' }} <b ng-if="item.caret == true" class="caret"></b></span>\n            <span ng-if="item.fonticon"\n              ng-attr-title="{{ i18n ? i18n[item.id] :\'\' }}">\n              <span class="fonticon" ng-class="item.fonticon"></span>\n              <b ng-if="item.caret == true" class="caret"></b>\n            </span>\n          </a>\n          <a ng-if="!item.route && item.type === \'search-item\'"\n            class="dropdown-toggle"\n            data-toggle="dropdown">\n            <span ng-if="!item.fonticon">{{ i18n ? i18n[item.id] : \'\' }} <b ng-if="item.caret == true" class="caret"></b></span>\n            <span ng-if="item.fonticon" ng-attr-title="{{ i18n ? i18n[item.id] : \'\' }}">\n                <span class="fonticon" ng-class="item.fonticon"></span>\n                <b ng-if="item.caret == true" class="caret"></b>\n            </span>\n          </a>\n          <ul ng-if="item.children" class="dropdown-menu">\n            <li ng-repeat="subItem in item.children"\n              ng-attr-id="{{ subItem.id }}"\n              ng-class="{dropdown: subItem.children, divider: subItem.type == \'sub-group\', active: matchRoute(subItem.route).subModule}">\n              <a ng-if="subItem.type == \'sub-item\'"\n                ng-href="{{ !subItem.children ? subItem.route : \'\' }}"\n                ng-class="{\'dropdown-toggle dropdown-nested\': subItem.children}"\n                data-toggle="{{ subItem.children ? \'dropdown\' : \'\' }}">\n                {{ i18n ? i18n[subItem.id] : \'\' }}</a>\n              <span ng-if="subItem.type == \'sub-group\'">{{ i18n ? i18n[subItem.id] : \'\' }}</span>\n              <ul ng-if="subItem.children" class="dropdown-menu sub-menu">\n                  <li ng-repeat="subSubItem in subItem.children"\n                    ng-attr-id="{{ subSubItem.id }}"\n                    ng-class="{divider: subSubItem.type == \'sub-group\', active: matchRoute(subSubItem.route).subModule}">\n                      <a ng-if="subSubItem.type == \'sub-item\'"\n                        ng-href="{{ subSubItem.route }}">\n                        {{ i18n ? i18n[subSubItem.id] : \'\' }}</a>\n                      <span ng-if="subSubItem.type == \'sub-group\'">{{ i18n ? i18n[subSubItem.id] : \'\' }}</span>\n                  </li>\n              </ul>\n            </li>\n          </ul>\n          <ul ng-if="item.type === \'search-item\'" class="dropdown-menu searchbar">\n            <li>\n              <div class="ark-filter-bar">\n                <div class="input-container" stop-close>\n                  <input type="text" ng-model="searchbar.searchText" class="form-control filter-search-box" placeholder="Search">\n                  <span class="icon-search search-box-icon"></span>\n                  <span class="icon-close search-box-cancel" ng-show="hasContent" ng-click="clearInputText()"></span>\n                  <div class="spinner-container input-spinner" ng-show="isSearching">\n                    <div class="spin-circle"></div>\n                    <div class="spin-inner-circle"></div>\n                  </div>\n                </div>\n                <div ng-if="displayDropdown" class="dropdown open">\n                  <ul class="dropdown-menu filter-dropdown search-result" aria-labelledby="filterDropdown">\n                    <li ng-repeat="item in items" ng-init="breakIndex = item.toLowerCase().indexOf(prevSearchText.toLowerCase())">\n                      <a class="items-found" ng-click="clickItem(item)">\n                        {{ item.substring(0, breakIndex) }}<b>{{ item.substring(breakIndex, (breakIndex + prevSearchText.length)) }}</b>{{ item.substring((breakIndex + prevSearchText.length)) }}\n                      </a>\n                    </li>\n                    <li ng-if="items.length === 0">\n                      <a class="not-found">\n                        Search for "<b>{{ prevSearchText }}</b>" not found\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div><!-- /.navbar-collapse -->\n  </div><!-- /.container-fluid -->\n</nav>\n'),a.put("ark-nested-search/ark-nested-search.html",'<span class="ark-nested-search">\r\n  <span class="searchContainer" style="width: calc(100% - 72px)">\r\n    <span class="fonticon icon-search"></span>\r\n    <input ng-keydown="searchKeyPress($event)" placeholder="Search Items" class="form-control nestedSearchInput" ng-model="search.searchValue">\r\n    <span ng-if="!delayPromise">\r\n      <span ng-if="search.searchValue && searchResults.length" class="searchcount">\r\n        {{ currSearchIndex + 1 }} of {{ searchResults.length }}\r\n      </span>\r\n      <span ng-if="search.searchValue && !searchResults.length" class="searchcount">\r\n        0 results\r\n      </span>\r\n      <span ng-show="search.searchValue && !delayPromise" class="icon-close search-box-cancel close-span ark-fonticon" ng-click="search.searchValue = \'\'">\r\n      </span>\r\n    </span>\r\n    <span ng-if="delayPromise && config.delay" class="searchcount wait">waiting...</span>\r\n  </span>\r\n  <span>\r\n    <button ng-disabled="!searchResults.length" ng-click="switchPrimaryResult(\'next\')" type="button" class="nextResult btn btn-default fonticon icon-iw-circle-no-chevron-down" style="padding: 2px 12px"></button><!--\r\n    --><button ng-disabled="!searchResults.length" ng-click="switchPrimaryResult(\'previous\')" type="button" class="previousResult btn btn-default fonticon icon-iw-circle-no-chevron-up" style="padding: 2px 12px; margin-left:1px;"></button>\r\n  </span>\r\n</span>\r\n'),a.put("ark-nested-tree/ark-nested-tree.html",'<div class="ark-nested-tree panel panel-default"\n  ng-class="{ \'no-border\': !showBorder }"\n  filter-treeview="true"\n  tree-id="myTree"\n  tree-model="model"\n  node-id="id"\n  node-label="label"\n  node-children="items"\n  tree-name="{{treeName}}"\n  level-depth="0"\n  node-unselectable="unselectable"\n  node-html-content="htmlContent"\n  max-child-height="maxHeight">\n</div>\n'),a.put("ark-select/ark-select.html",'<div class="ark-select-wrapper bootstrap-select dropdown-menu" ng-class="{ scrollable: $matches.length > 10 }">\n  <ul tabindex="-1" class="inner select dropdown-menu selectpicker" ng-show="$isVisible()" role="select" style="display:block;">\n    <li role="presentation" ng-repeat="match in $matches" ng-class="{selected: $isActive($index)}"><!-- ng-class="{active: $isActive($index)}" -->\n      <a style="cursor: default;" role="menuitem" tabindex="-1" id=\'{{ $parentId + "-" + (match.value.name || match.value.id || "select-default-id-"+match.label) }}\' ng-checked="$isActive($index)" ng-click="$select($index, $event)">\n        <span ng-bind="match.label"></span>\n        <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"><!-- --></i>\n      </a>\n    </li>\n  </ul>\n</div>\n'),a.put("ark-select/tooltip.tpl.html",'<div class="tooltip in" ng-show="title">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="title"></div>\n</div>\n'),a.put("ark-side-tabs/ark-side-tabs.html",'<div class="side-tabs-container">\r\n  <ul class="nav nav-side-tabs">\r\n    <li ng-repeat="tab in tabs" ng-class="{active: $index === selectedItemIndex}" ng-click="setActive($index)">\r\n      <a href><span class="fonticon {{ tab.icon }}" ng-if="tab.icon"></span>{{ tab.title }}</a>\r\n    </li>\r\n  </ul>\r\n  <div class="tabs-contents" style="width: calc(100% - 140px)">\r\n    <div ng-if="!reload">\r\n      <div ng-include ng-repeat="tab in tabs" src="tab.templateUrl" ng-show="$index === selectedItemIndex"></div>\r\n    </div>\r\n    <div ng-if="reload">\r\n      <div ng-include src="selectedTemplate"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),a.put("ark-sidebar/ark-sidebar.html",'<div class="ark-sidebar" ng-hide="!showSidebar">\r\n  <div class="ark-sidebar-container" ng-class="{\'ark-sidebar-shadow\': showShadow}">\r\n    <div ng-include="template"></div>\r\n  </div>\r\n</div>\r\n'),a.put("ark-slider/ark-slider.html",'<div class="slider-track" ng-class="{\'slider-active\': isActive}">\n  <span ng-transclude ng-mousedown="setActive()" ng-mouseup="setActive()"></span>\n  <div class="slider-value-container"\n  ng-class="{\'slider-value-container-active\': isActive}" ng-if="!useTooltip">\n    {{inputValue}}<span ng-if="showPercentage">&#37;</span>\n  </div>\n  <div class="slider-fill">\n    <div ng-show="isActive && useTooltip" class="slider-value">\n      {{inputValue}}<span ng-if="showPercentage">&#37;</span>\n      <div class="arrow-bottom"></div>\n    </div>\n    <div class="slider-thumb"></div>\n  </div>\n</div>\n'),a.put("ark-tags/ark-tags.html",'<div class="ark-tags">\r\n  <span>\r\n    <span ng-repeat="tag in tagList" ng-click="removeTag(tag)" class="tag animated pulse">\r\n      <span class="tag-label">{{ tag }}</span>\r\n      <a class="tagsinput-remove-link">\r\n        <span class="fonticon icon-close"></span>\r\n      </a>\r\n    </span>\r\n  </span>\r\n  <div class="tagsinput-add-container">\r\n    <div ng-click="addTag()" class="tagsinput-add">\r\n      <span class="fonticon icon-add"></span>\r\n    </div>\r\n    <input ng-model="inputTag" placeholder="Add a Tag" id="tagsinput_tag" value="" style="color: rgb(102, 102, 102);">\r\n  </div>\r\n</div>\r\n'),a.put("ark-time-picker/ark-time-picker.html",'<div class="ark-timepicker">\n  <div class="timepicker-header" ng-if="widgetMode">\n    <b>{{ headerLabel }}</b>\n  </div>\n  <div class="timepicker-content">\n    <div class="col-container first">\n      <div class="icon-iw-circle-no-chevron-up arrow" ng-if="widgetMode" while-pressed="addHour()"></div>\n      <div class="dropdown open">\n        <input type="text" maxlength="2" ng-model="hour" ng-click="showHour()" ng-blur="validateHour()">\n        <ul ng-show="showHourList" class="dropdown-menu">\n          <li ng-repeat="list in hourList">\n            <a href ng-mousedown="selectHour(list)" ng-class="{selected: list === hour}">\n              {{ list }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class="icon-iw-circle-no-chevron-down arrow" ng-if="widgetMode" while-pressed="minusHour()"></div>\n    </div>\n\n    <div class="col-container column"><b>:</b></div>\n\n    <div class="col-container">\n      <div class="icon-iw-circle-no-chevron-up arrow" ng-if="widgetMode" while-pressed="addMinute()"></div>\n      <div class="dropdown open">\n        <input type="text" maxlength="2" ng-model="minute" ng-click="showMinute()" ng-blur="validateMinute()">\n        <ul ng-show="showMinuteList" class="dropdown-menu">\n          <li ng-repeat="list in minuteList">\n            <a href ng-mousedown="selectMinute(list)" ng-class="{selected: list===minute}">\n              {{ list }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class="icon-iw-circle-no-chevron-down arrow" ng-if="widgetMode" while-pressed="minusMinute()"></div>\n    </div>\n\n    <div class="col-container last">\n      <div class="icon-iw-circle-no-chevron-up arrow" ng-if="widgetMode" ng-click="changeNoon()"></div>\n      <input type="text" maxlength="2" ng-model="noon" ng-blur="validateNoon()">\n      <div class="icon-iw-circle-no-chevron-down arrow" ng-if="widgetMode" ng-click="changeNoon()"></div>\n    </div>\n\n    <div class="col-container last" ng-if="timezoneMode">\n      <div class="icon-iw-circle-no-chevron-up arrow timezone" ng-if="widgetMode" ng-click="addTimeZone()"></div>\n      <div class="dropdown open">\n        <input type="text" class="timezone" maxlength="9" ng-model="timeZone" ng-click="showTimeZone()" ng-blur="validateTimeZone()" readonly>\n        <ul ng-show="showTimeZoneList" class="dropdown-menu timezone">\n          <li ng-repeat="list in timeZoneList">\n            <a href ng-mousedown="selectTimeZone(list, $index)" class="timezone" ng-class="{selected: list === timeZone}">\n              {{ list }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class="icon-iw-circle-no-chevron-down arrow timezone" ng-if="widgetMode" ng-click="minusTimeZone()"></div>\n    </div>\n  </div>\n</div>\n'),
a.put("ark-toolbar/ark-toolbar.html",'<div class="ark-toolbar {{options.toolbarContainer}} {{options.theme}}-theme" style="{{options.toolbarStyle}}">\n  <ul class="lefttoolbar ark-toolbar-buttons {{options.leftButtonContainer}}">\n    <li ng-repeat="button in options.lefttoolbar"\n      ng-click="button.click($event, button)"\n      ng-href="{{button.href}}"\n      ng-class="{\'non-clickable\': button.nonClickable, \'spacer\' : button.spacer}"\n      id="{{button.id}}"\n      class="{{button.class}}">\n      <span\n        class="{{button.icon}} {{button.buttonStyleClass}} ark-fonticon"\n        data-toggle="tooltip"\n        data-placement="bottom"\n        title="{{button.tooltipTitle}}"\n        ng-if="button.icon"></span>\n      <span\n        class="icon-title"\n        title="{{button.tooltipTitle}}"\n        ng-if="button.title">\n        {{ button.title }}\n      </span>\n      <div ng-if="button.select" class="btn-group bootstrap-select show-tick">\n        <button ng-if="!button.select.multiple" ark-select type="button" class="btn btn-default dropdown-toggle selectpicker"\n        ng-model="button.select.value"\n        id="{{ button.select.id }}"\n        ng-options="{{button.select.options}}"\n        placeholder="{{button.select.placeholder}}"\n        ></button>\n        <button ng-if="button.select.multiple" ark-select type="button" class="btn btn-default dropdown-toggle selectpicker"\n        ng-model="button.select.value"\n        id="{{ button.select.id }}"\n        ng-options="{{button.select.options}}"\n        placeholder="{{button.select.placeholder}}"\n        multiple\n        ></button>\n      </div>\n      <div class="inline input-container" ng-if="button.input">\n        <div class="spacer nonClickable"></div>\n        <span class="{{button.input.icon}} ark-fonticon" ng-if="button.input.icon"></span>\n        <input\n          ng-if="!button.input.eventHandlers"\n          ng-model="button.input.value"\n          class="inline form-control search-input"\n          ng-class="{{button.input.className}}"\n          id="{{button.input.id}}"\n          type="text"\n          placeholder="{{button.input.placeholder}}" >\n        <input\n          ng-if="button.input.eventHandlers"\n          ng-model="button.input.value"\n          class="inline form-control search-input"\n          ng-class="{{button.input.className}}"\n          id="{{button.input.id}}"\n          type="text"\n          placeholder="{{button.input.placeholder}}"\n          parse-handlers handler-array="button.input.eventHandlers">\n        <span class="icon-close search-box-cancel close-span ark-fonticon" ng-show="button.input.value !== \'\'" ng-click="button.input.value = \'\'"></span>\n        <div class="spacer nonClickable"></div>\n      </div>\n      <div ng-if="button.HTMLtemplate" ng-bind-html="button.HTMLtemplate" class="toolbar-template"></div>\n    </li>\n  </ul>\n  <ul class="righttoolbar ark-toolbar-buttons {{options.rightButtonContainer}}">\n    <li ng-repeat="button in options.righttoolbar"\n      ng-click="button.click($event, button)"\n      ng-href="{{button.href}}"\n      ng-class="{\'non-clickable\': button.nonClickable, \'spacer\' : button.spacer}"\n      id="{{button.id}}"\n      class="{{button.class}}">\n      <span\n        class="{{button.icon}} {{button.buttonStyleClass}} ark-fonticon"\n        data-toggle="tooltip"\n        data-placement="bottom"\n        title="{{button.tooltipTitle}}"\n        ng-if="button.icon"></span>\n      <span\n        class="icon-title"\n        title="{{button.tooltipTitle}}"\n        ng-if="button.title">\n        {{ button.title }}\n      </span>\n      <div ng-if="button.select" class="btn-group bootstrap-select show-tick">\n        <button ng-if="!button.select.multiple" ark-select type="button" class="btn btn-default dropdown-toggle selectpicker"\n        ng-model="button.select.value"\n        id="{{ button.select.id }}"\n        ng-options="{{button.select.options}}"\n        placeholder="{{button.select.placeholder}}"\n        ></button>\n        <button ng-if="button.select.multiple" ark-select type="button" class="btn btn-default dropdown-toggle selectpicker"\n        ng-model="button.select.value"\n        id="{{ button.select.id }}"\n        ng-options="{{button.select.options}}"\n        placeholder="{{button.select.placeholder}}"\n        multiple\n        ></button>\n      </div>\n\n      <div class="inline input-container" ng-if="button.input">\n        <div class="spacer nonClickable"></div>\n        <span class="{{button.input.icon}} ark-fonticon" ng-if="button.input.icon"></span>\n        <input\n          ng-if="!button.input.eventHandlers"\n          ng-model="button.input.value"\n          class="inline form-control search-input"\n          type="text"\n          placeholder="{{button.input.placeholder}}" >\n        <input\n          ng-if="button.input.eventHandlers"\n          ng-model="button.input.value"\n          class="inline form-control search-input"\n          type="text"\n          placeholder="{{button.input.placeholder}}"\n          parse-handlers handler-array="button.input.eventHandlers" >\n        <span class="icon-close search-box-cancel close-span ark-fonticon" ng-show="button.input.value !== \'\'" ng-click="button.input.value = \'\'"></span>\n        <div class="spacer nonClickable"></div>\n      </div>\n      <div ng-if="button.HTMLtemplate" ng-bind-html="button.HTMLtemplate" class="toolbar-template"></div>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("ark-components").controller("arkAppLauncherCtrl",["$scope","$window","$timeout","$log","_","arkNavMenuModel",function(a,b,c,d,e,f){var g=a.delegate;a.customAction=function(a){var c;a.id&&a.url&&g.customAction[a.id]&&(a.requireConfirmation?(c=b.confirm(g.localization.localizedStrings.ARE_YOU_SURE),c&&g.customAction[a.id](a.url)):g.customAction[a.id](a.url))},function(){function b(){a.currentLanguage=e.findWhere(h.languages,{id:h.currentLanguageId}),a.usermenu=f(a.appSettings.usermenu,h.localizedStrings)}var c=a.appSettings.i18n[g.localization.currentLanguage],h=g.localization;a.user=a.userData.user,a.usermenu=f(a.appSettings.usermenu,c),a.currentAppName=a.appSettings.appDisplayName,a.aboutApplication=g.aboutApplication,a.baseUrlAssets=a.appSettings.baseUrlAssets,h&&(a.localization=h,a.localizationIcons={},e.each(h.languages,function(b){var c=/\-([^\-]*)/.exec(b.id)[1];a.localizationIcons[b.id]="country-"+c.toLowerCase()}),a.$root.$on("$translateChangeSuccess",b),b(),a.changeLanguage=function(b){var c=e.findWhere(h.languages,{id:b});c?(a.currentLanguage=c,h.changeLanguage&&h.changeLanguage(b).then(function(a){h.localizedStrings=a})):d.error("Could not change to language",b,"as it could not be found")}),a.appGroups=a.userData.getAppGroups&&a.userData.getAppGroups()}()}]),angular.module("ark-components").directive("arkAppLauncher",function(){return{templateUrl:"ark-app-launcher/ark-app-launcher.html",restrict:"E",transclude:!1,replace:!0,scope:{delegate:"=",helpmenu:"=",appSettings:"=",userData:"=",appLauncherEnable:"="},controller:"arkAppLauncherCtrl"}}).filter("truncate",function(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!==e&&(a=a.substr(0,e))}return a+(d||"â€¦")}}),angular.module("ark-components").factory("arkNavMenuItemModel",function(){function a(a,b){var c;return a&&(c={},c.id=a.id||"",c.name=a.name||a.id||"",c.fonticon=a.fonticon||"",c.url=a.url||"",c.target=a.target||"",c.customAction=a.custom_action||!1,c.requireConfirmation=a.require_confirmation||!1,c.disable=a.disable||!1,b&&a.id&&b[a.id]&&(c.name=b[a.id]),c.isDivider=a.type&&"divider"===a.type||!1),c}return a}),angular.module("ark-components").factory("arkNavMenuModel",["arkNavMenuItemModel","$log",function(a,b){function c(c,d){var e=[];if(c&&angular.isArray(c))for(var f in c)e.push(a(c[f],d));else b.error("arkNavMenu: items not an array");return e}return c}]),angular.module("ark-components").directive("arkDatepickerPopupWrap",["$templateCache",function(a){return{restrict:"EA",replace:!0,transclude:!0,template:a.get("ark-datepicker/ark-datepicker-popup-wrap.html"),link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}]),angular.module("ark-components").constant("arkDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!1}),angular.module("ark-components").directive("arkDatepickerPopup",["$compile","$parse","$document","$position","dateFilter","arkDatepickerPopupConfig",function(a,b,c,d,e,f){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(g,h,i,j){function k(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function l(a){if(a){if(angular.isDate(a)&&!isNaN(a))return j.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?void j.$setValidity("date",!1):(j.$setValidity("date",!0),b)}return void j.$setValidity("date",!1)}return j.$setValidity("date",!0),null}var m,n=angular.isDefined(i.closeOnDateSelection)?g.$parent.$eval(i.closeOnDateSelection):f.closeOnDateSelection,o=angular.isDefined(i.datepickerAppendToBody)?g.$parent.$eval(i.datepickerAppendToBody):f.appendToBody;g.showButtonBar=angular.isDefined(i.showButtonBar)?g.$parent.$eval(i.showButtonBar):f.showButtonBar,g.getText=function(a){return g[a+"Text"]||f[a+"Text"]},i.$observe("arkDatepickerPopup",function(a){m=a||f.datepickerPopup,j.$render()});var p=angular.element("<div ark-datepicker-popup-wrap><div ark-datepicker></div></div>");p.attr({"ng-model":"date","ng-change":"dateSelection()"});var q=angular.element(p.children()[0]);i.datepickerOptions&&angular.forEach(g.$parent.$eval(i.datepickerOptions),function(a,b){q.attr(k(b),a)}),angular.forEach(["minDate","maxDate"],function(a){i[a]&&(g.$parent.$watch(b(i[a]),function(b){g[a]=b}),q.attr(k(a),a))}),i.dateDisabled&&q.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),j.$parsers.unshift(l),g.dateSelection=function(a){angular.isDefined(a)&&(g.date=a),j.$setViewValue(g.date),j.$render(),n&&(g.isOpen=!1)},h.bind("input change keyup",function(){g.$apply(function(){g.date=j.$modelValue})}),j.$render=function(){var a=j.$viewValue?e(j.$viewValue,m):"";h.val(a),g.date=l(j.$modelValue)};var r=function(a){g.isOpen&&a.target!==h[0]&&g.$apply(function(){g.isOpen=!1})},s=function(){g.$apply(function(){g.isOpen=!0})};g.$watch("isOpen",function(a){a?(g.position=o?d.offset(h):d.position(h),g.position.top=g.position.top+h.prop("offsetHeight"),c.bind("click",r),h.unbind("focus",s),h[0].focus()):(c.unbind("click",r),h.bind("focus",s))}),g.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.$modelValue)?(a=new Date(j.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}g.dateSelection(a)};var t=a(p)(g);o?c.find("body").append(t):h.after(t),g.$on("$destroy",function(){t.remove(),h.unbind("focus",s),c.unbind("click",r)})}}}]),angular.module("ark-components").constant("arkDatepickerConfig",{formatDay:"d",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"E",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!1,startingDay:0,yearRange:20,minDate:null,maxDate:null}),angular.module("ark-components").controller("arkDatepickerCtrl",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","arkDatepickerConfig","_",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),this.currentCalendarDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var b=a.timezoneMode?new Date(a.prevDate):new Date(j.$modelValue),c=!isNaN(b);c?this.currentCalendarDate=b:e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",c)}this.refreshView()},this.refreshView=function(){if(this.mode){this._refreshView();var b;b=a.timezoneMode?new Date(a.prevDate):j.$modelValue?new Date(j.$modelValue):null,j.$setValidity("date-disabled",!b||this.mode&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d;return d=a.timezoneMode?new Date(a.prevDate):j.$modelValue?new Date(j.$modelValue):null,{date:b,label:f(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),current:0===this.compare(b,new Date)}},this.isDisabled=function(b){return this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),a.timepickerMode&&(c.setHours(a.date.getHours()),c.setMinutes(a.date.getMinutes())),a.date=c,a.timepickerMode&&a.timezoneMode?(a.prevDate=c,j.$setViewValue(c.toLocaleString()+" "+a.timeData.timeZone),j.$render()):a.timepickerMode?(j.$setViewValue(c.toLocaleString()),j.$render()):(j.$setViewValue(c),j.$render())}else i.currentCalendarDate=b,a.datepickerMode=i.mode.previous},a.move=function(a){var b=i.currentCalendarDate.getFullYear()+a*(i.mode.step.years||0),c=i.currentCalendarDate.getMonth()+a*(i.mode.step.months||0);i.currentCalendarDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(){a.datepickerMode=a.datepickerMode===i.maxMode?i.minMode:i.mode.next},a.hourList=["1","2","3","4","5","6","7","8","9","10","11","12"],a.minuteList=["00","05","10","15","20","25","30","35","40","45","50","55"],a.timeZoneList=["GMT-12:00","GMT-11:00","GMT-10:00","GMT-09:00","GMT-08:00","GMT-07:00","GMT-06:00","GMT-05:00","GMT-04:30","GMT-04:00","GMT-03:30","GMT-03:00","GMT-02:00","GMT-01:00","GMT+00:00","GMT+01:00","GMT+02:00","GMT+03:00","GMT+03:30","GMT+04:00","GMT+05:00","GMT+05:30","GMT+05:45","GMT+06:00","GMT+06:30","GMT+07:00","GMT+08:00","GMT+09:00","GMT+09:30","GMT+10:00","GMT+11:00","GMT+12:00","GMT+13:00"],a.showHourList=!1,a.showMinuteList=!1,a.showTimeZoneList=!1,a.timeZoneShow=!1,a.timeData={hour:0,minute:0,noon:"AM",timeZone:"GMT-05:00"};var k=this;a.$watchCollection("[timeData.hour, timeData.minute, timeData.noon, timeData.timeZone]",function(){if(!a.isInvalidHour()&&!a.isInvalidMinute()&&!a.isInvalidNoon()){var b=angular.copy(a.date),c=parseInt(a.timeData.hour),d=parseInt(a.timeData.minute);"PM"===a.timeData.noon?12>c&&(c+=12):12===c&&(c=0),b.setHours(c),b.setMinutes(d),a.date=b,a.select(b)}}),a.isInvalidHour=function(){return k.isInvalidHour(a.timeData.hour,a.timeData.noon)},k.isInvalidHour=function(a,b){return!a||isNaN(a)||-1!==a.indexOf(".")||a.length>2||"AM"===b&&(parseInt(a)>12||parseInt(a)<0)||"PM"===b&&(parseInt(a)>12||parseInt(a)<1)},a.validateHour=function(){a.isInvalidHour()?a.timeData.hour=a.prevHour:a.prevHour=a.timeData.hour,a.showHourList=!1},a.addHour=function(){"AM"===a.timeData.noon?"11"===a.timeData.hour?(a.timeData.noon="PM",a.timeData.hour="12"):a.timeData.hour=parseInt(a.timeData.hour)%12+1+"":("11"===a.timeData.hour&&(a.timeData.noon="AM"),a.timeData.hour=parseInt(a.timeData.hour)%12+1+""),a.prevHour=a.timeData.hour,a.prevNoon=a.timeData.noon},a.minusHour=function(){"AM"===a.timeData.noon?"00"===a.timeData.hour||"0"===a.timeData.hour||"12"===a.timeData.hour?(a.timeData.noon="PM",a.timeData.hour="11"):a.timeData.hour=parseInt(a.timeData.hour)-1+"":("12"===a.timeData.hour&&(a.timeData.noon="AM"),a.timeData.hour="01"===a.timeData.hour||"1"===a.timeData.hour?a.timeData.hour="12":parseInt(a.timeData.hour)-1+""),a.prevHour=a.timeData.hour,a.prevNoon=a.timeData.noon},a.isInvalidMinute=function(){return k.isInvalidMinute(a.timeData.minute)},k.isInvalidMinute=function(a){return!a||isNaN(a)||-1!==a.indexOf(".")||a.length>2||parseInt(a)>59||parseInt(a)<0},a.formatNumber=function(a){return 1===a.length&&(a="0"+a),a},a.addMinute=function(){"59"===a.timeData.minute&&a.addHour(),a.timeData.minute=a.formatNumber((parseInt(a.timeData.minute)+1)%60+""),a.prevMinute=a.timeData.minute},a.minusMinute=function(){("0"===a.timeData.minute||"00"===a.timeData.minute)&&a.minusHour(),a.timeData.minute=a.formatNumber((parseInt(a.timeData.minute)+59)%60+""),a.prevMinute=a.timeData.minute},a.validateMinute=function(){a.isInvalidMinute()?a.timeData.minute=a.prevMinute:(a.timeData.minute=a.formatNumber(a.timeData.minute),a.prevMinute=a.timeData.minute),a.showMinuteList=!1},a.changeNoon=function(){"AM"===a.timeData.noon?(("0"===a.timeData.hour||"00"===a.timeData.hour)&&(a.timeData.hour="12",a.prevHour=a.timeData.hour),a.timeData.noon="PM"):a.timeData.noon="AM",a.prevNoon=a.timeData.noon},a.validateNoon=function(){a.isInvalidNoon()?a.timeData.noon=a.prevNoon:("pm"===a.timeData.noon.toLowerCase()&&"0"===a.timeData.hour&&(a.timeData.hour="12",a.prevHour=a.timeData.hour),a.timeData.noon=a.timeData.noon.toUpperCase(),a.prevNoon=a.timeData.noon)},a.isInvalidNoon=function(){return k.isInvalidNoon(a.timeData.noon)},k.isInvalidNoon=function(a){return"AM"!==a.toUpperCase()&&"PM"!==a.toUpperCase()},a.isInvalidTimeZone=function(){return!h.contains(a.timeZoneList,a.timeData.timeZone)},a.validateTimeZone=function(){a.isInvalidTimeZone()?a.timeData.timeZone=a.prevTimeZone:a.prevTimeZone=a.timeData.timeZone,a.showTimeZoneList=!1},a.addTimeZone=function(){a.timeZoneIndex>0&&a.timeZoneIndex--,a.timeData.timeZone=a.timeZoneList[a.timeZoneIndex],a.prevTimeZone=a.timeData.timeZone},a.minusTimeZone=function(){a.timeZoneIndex<a.timeZoneList.length-1&&a.timeZoneIndex++,a.timeData.timeZone=a.timeZoneList[a.timeZoneIndex],a.prevTimeZone=a.timeData.timeZone},a.showHour=function(){a.showHourList=!0},a.showMinute=function(){a.showMinuteList=!0},a.showTimeZone=function(){a.showTimeZoneList=!0},a.toggleTimeZone=function(){a.timeZoneShow=!a.timeZoneShow},a.selectHour=function(b){a.timeData.hour=b,a.prevHour=b},a.selectMinute=function(b){a.timeData.minute=b,a.prevMinute=b},a.selectTimeZone=function(b,c){a.timeData.timeZone=b,a.prevTimeZone=b,a.timeZoneIndex=c},a.initializeTimeVars=function(){if(a.dateTimeDefault){var b=new Date(a.dateTimeDefault);isNaN(b)?a.date=new Date:a.date=angular.copy(b)}else a.date=new Date;a.timeZoneIndex=7,a.prevTimeZone=a.timeZoneList[a.timeZoneIndex],a.timeData.timeZone=a.timeZoneList[a.timeZoneIndex];var c,d=a.date.getHours(),e=a.date.getMinutes();d>=12?(c="PM",d>12&&(d-=12)):c="AM",10>e&&(e="0"+e),a.prevHour=d.toString(),a.timeData.hour=d.toString(),a.prevMinute=e.toString(),a.timeData.minute=e.toString(),a.prevNoon=c,a.timeData.noon=c},function(){a.timepickerMode&&a.initializeTimeVars(),a.datepickerMode=a.datepickerMode||g.datepickerMode}()}]),angular.module("ark-components").directive("arkDatepicker",["$templateCache",function(a){return{restrict:"EA",replace:!0,template:a.get("ark-datepicker/ark-datepicker.html"),scope:{datepickerMode:"=?",dateDisabled:"&",timepickerMode:"@",timezoneMode:"@",dateTimeDefault:"@"},require:["arkDatepicker","?^ngModel"],controller:"arkDatepickerCtrl",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f),a.timepickerMode=a.$eval(a.timepickerMode)||!1,a.timezoneMode=a.$eval(a.timezoneMode)||!1}}}]),angular.module("ark-components").directive("arkDaypicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/ark-daypicker.html"),require:"^arkDatepicker",link:function(b,c,d,e){function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.mode={step:{months:1},next:"month"},e._refreshView=function(){var c=e.currentCalendarDate.getFullYear(),d=e.currentCalendarDate.getMonth(),i=new Date(c,d,1),j=e.startingDay-i.getDay(),k=j>0?7-j:-j,l=new Date(i),m=0;k>0&&(l.setDate(-k+1),m+=k),m+=f(c,d+1),m+=(7-m%7)%7;for(var n=g(l,m),o=0;m>o;o++)n[o]=angular.extend(e.createDateObject(n[o],e.formatDay),{secondary:n[o].getMonth()!==d});b.labels=new Array(7);for(var p=0;7>p;p++)"E"===e.formatDayHeader?b.labels[p]=a(n[p].date,"EEE").substr(0,1):b.labels[p]=a(n[p].date,e.formatDayHeader);if(b.title=a(e.currentCalendarDate,e.formatDayTitle),b.rows=e.split(n,7),b.showWeeks){b.weekNumbers=[];for(var q=h(b.rows[0][0].date),r=b.rows.length;b.weekNumbers.push(q++)<r;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.refreshView()}}}]),angular.module("ark-components").directive("arkMonthpicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/ark-monthpicker.html"),require:"^arkDatepicker",link:function(b,c,d,e){e.mode={step:{years:1},previous:"day",next:"year"},e._refreshView=function(){for(var c=new Array(12),d=e.currentCalendarDate.getFullYear(),f=0;12>f;f++)c[f]=e.createDateObject(new Date(d,f,1),e.formatMonth);b.title=a(e.currentCalendarDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.refreshView()}}}]),angular.module("ark-components").directive("arkYearpicker",["dateFilter","$templateCache",function(a,b){return{restrict:"EA",replace:!0,template:b.get("ark-datepicker/ark-yearpicker.html"),require:"^arkDatepicker",link:function(a,b,c,d){d.mode={step:{years:d.yearRange},previous:"month"},d._refreshView=function(){for(var b=this.mode.step.years,c=new Array(b),e=parseInt((d.currentCalendarDate.getFullYear()-1)/b,10)*b+1,f=0;b>f;f++)c[f]=d.createDateObject(new Date(e+f,0,1),d.formatYear);a.title=[c[0].label,c[b-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.refreshView()}}}]),angular.module("ark-components").factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!==a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ark-components").controller("arkFilterBarCtrl",["$scope",function(a){a.hasContent=!1,a.isSearching=!1,a.displayDropdown=!1,a.items=[],a.clearInputText=function(){a.searchText=""},a.clickItem=function(b){a.selectFunction({item:b}),a.clickedItem=!0,a.prevSearchText=b,a.searchText=b,a.isSearching=!1,a.displayDropdown=!1},a.searchForContent=function(b){a.isSearching=!0,a.prevSearchText=b,a.filterFunction({searchText:a.searchText,callback:function(b){a.items=a.itemsLength?b.slice(0,parseInt(a.itemsLength)):b.slice(0,3),a.isSearching=!1,a.displayDropdown=!0}})}}]),angular.module("ark-components").directive("arkFilterBar",["$timeout",function(a){return{restrict:"E",scope:{itemsLength:"@listLength",filterFunction:"&",selectFunction:"&",delay:"@searchDelay"},controller:"arkFilterBarCtrl",templateUrl:"ark-filter-bar/ark-filter-bar.html",link:function(b){b.newSearchText="",b.$watch("searchText",function(c){if(b.clickedItem)b.clickedItem=!1;else if(c){b.hasContent=!0,b.newSearchText=c;var d=b.delay?parseInt(b.delay):500;a(function(){b.newSearchText===c&&b.searchText&&b.searchForContent(c)},d)}else b.hasContent=!1,b.displayDropdown=!1})}}}]),angular.module("ark-components").controller("arkFooterCtrl",["$scope",function(a){function b(){if(a.locale)for(var b in c.defaultTexts)c.defaultTexts.hasOwnProperty(b)&&(a.i18n[b]=a.locale[b]||c.defaultTexts[b])}var c=this;a.i18n={},c.defaultTexts={COPYRIGHT:"Genesys",PRIVACY_POLICY:"Privacy Policy",TERMS_OF_USE:"Terms of Use",POWERED_BY:"Powered by Genesys"},a.$watch("locale",b,!0),a.locale||(a.i18n=this.defaultTexts),a.currentYear=(new Date).getFullYear()}]),angular.module("ark-components").directive("arkFooter",function(){return{restrict:"E",replace:!0,scope:{tenantLogoLink:"@",genesysLogoLink:"@",termsAndConditions:"@",privacyPolicy:"@",appVersion:"=",footerSize:"@",locale:"="},templateUrl:"ark-footer/ark-footer.html",controller:"arkFooterCtrl",link:function(a,b,c){a.showLargeFooter=!(angular.isDefined(c.footerSize)&&"small"===c.footerSize),a.showTermsofUse=angular.isDefined(c.termsAndConditions)&&""!==c.termsAndConditions,a.showPrivacyPolicy=angular.isDefined(c.privacyPolicy)&&""!==c.privacyPolicy}}}),function(){angular.module("ark-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["ark-loading-bar-manual"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","arkLoadingBar",function(b,c,d,e,f){function g(){d.cancel(i),f.complete(),k=0,j=0}function h(b){var d,e=a.defaults;if("GET"!==b.method||b.cache===!1)return b.cached=!1,!1;d=b.cache===!0&&void 0===e.cache?c.get("$http"):void 0!==e.cache?e.cache:b.cache;var f=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&f!==b.cached?b.cached:(b.cached=f,f)}var i,j=0,k=0,l=f.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||h(a)||(e.$broadcast("arkLoadingBar:loading",{url:a.url}),0===j&&(i=d(function(){f.start()},l)),j++,f.set(k/j)),a},response:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("arkLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),a},responseError:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("arkLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),b.reject(a)}}}];a.interceptors.push(b)}]),angular.module("ark-loading-bar-manual",[]).provider("arkLoadingBar",function(){this.includeSpinner=!1,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.$get=["$document","$timeout","$animate","$rootScope",function(a,b,c,d){function e(){var e=a.find(l);b.cancel(k),p||(d.$broadcast("arkLoadingBar:started"),p=!0,s&&c.enter(m,e),r&&c.enter(o,e),f(t))}function f(a){if(p){var c=100*a+"%";n.css("width",c),q=a,b.cancel(j),j=b(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return q}function i(){d.$broadcast("arkLoadingBar:completed"),f(1),b.cancel(k),k=b(function(){c.leave(m,function(){q=0,p=!1}),c.leave(o)},500)}var j,k,l=this.parentSelector,m=angular.element('<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>'),n=m.find("div").eq(0),o=angular.element(this.spinnerTemplate),p=!1,q=0,r=this.includeSpinner,s=this.includeBar,t=this.startSize;return{start:e,set:f,status:h,inc:g,complete:i,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),angular.module("ark-components").controller("arkLoginCtrl",["$scope","$http",function(a,b){var c=this;a.languageMenu=[],a.isLoading=!1,this.loadDisplayPage=function(){for(var b=a.loginService.getLoginJSON(),c=Object.keys(b),d=0;d<c.length;d++)a.languageMenu.push({value:c[d],title:b[c[d]].title,errorMsg:b[c[d]].errorMessages})},a.login=function(){a.isLoading=!0,a.errorMessage="",a.errorMsgType="";var b=a.userNameInput,c=a.passwordInput,d=a.language.value,e=a.loginService.getLoginJSON();return!b||!c&&a.isPasswordMandatory?(a.errorMessage=e[a.language.value].errorMessages.emptyField,a.errorMsgType="emptyField",void(a.isLoading=!1)):void a.loginService.login(b,c,d,function(b){var c=void 0!==a.errorField&&b&&b[a.errorField]?b[a.errorField]:"incorrectLogin";a.errorMessage=e[a.language.value].errorMessages[c]||e[a.language.value].errorMessages.incorrectLogin,a.errorMsgType="incorrectLogin",a.isLoading=!1})},angular.isDefined(a.remoteMessageUrl)&&b.get(a.remoteMessageUrl).success(function(b){a.remoteMessage=b}),this.ctrlInit=function(){a.loginService.init(function(){c.loadDisplayPage(),a.language=a.languageMenu[0]})},this.ctrlInit()}]),angular.module("ark-components").directive("arkLogin",["$window",function(a){return{restrict:"E",transclude:!0,scope:{genesysLogoLink:"@logoLink",forgotPassword:"=",loginService:"=",remoteMessageUrl:"@"},controller:"arkLoginCtrl",templateUrl:"ark-login/ark-login.html",link:function(b,c,d){b.showLanguageBar=angular.isDefined(d.showLanguageBar)?b.$eval(d.showLanguageBar):!0,b.isPasswordMandatory=angular.isDefined(d.isPasswordMandatory)?b.$eval(d.isPasswordMandatory):!0,b.errorField=angular.isDefined(d.errorField)?d.errorField:void 0,b.showForgotPassword=angular.isDefined(d.forgotPassword),b.forgotPasswordFn="function"==typeof b.forgotPassword?b.forgotPassword:function(){a.open(b.forgotPassword)},b.$watch("language",function(a){a&&b.loginService.changeLanguage(a.value,function(a){b.formTitle=a.loginFormTitle,b.errorMessages=a.errorMessages;var c=b.errorMsgType;b.errorMessage=b.language.errorMsg[c]})},!0)}}}]),angular.module("ark-components").controller("arkNavbarCtrl",["navigationBarService","$scope","$timeout",function(a,b,c){b.sDefaultI18n="en-US",b.hasContent=!1,b.isSearching=!1,b.displayDropdown=!1,b.items=[],b.searchbar={searchText:""},b.updateNavigation=function(){var c=a.getNavigationJSON();c&&(b.navigationJSON=c,b.navigationJSON.i18n[a.getI18n()]?b.i18n=b.navigationJSON.i18n[a.getI18n()]:b.i18n=b.navigationJSON.i18n[b.sDefaultI18n])},b.matchRoute=function(b){return a.matchRoute?a.matchRoute(b):{module:!1,subModule:!1}},b.clearInputText=function(){b.searchbar.searchText=""},b.clickItem=function(a){b.search.selectFunction(a)},b.searchForContent=function(a){b.isSearching=!0,b.prevSearchText=a,b.search.filterFunction(a,function(a){b.items=b.itemsLength?a.slice(0,parseInt(b.itemsLength)):a.slice(0,3),b.isSearching=!1,b.displayDropdown=!0})},a.onJSONUpdate(function(){c(function(){b.updateNavigation()})}),b.updateNavigation()}]),angular.module("ark-components").directive("arkNavbar",["$timeout","$templateCache","_",function(a,b,c){
return{restrict:"E",scope:{search:"=searchAction"},transclude:!1,replace:!0,templateUrl:"ark-navbar/ark-navbar.html",controller:"arkNavbarCtrl",link:function(a){a.newSearchText="";var b=c.throttle(function(b){a.newSearchText===b&&a.searchbar.searchText&&a.searchForContent(b)},300);a.$watch("searchbar.searchText",function(c){c?(a.hasContent=!0,a.newSearchText=c,b(c)):(a.hasContent=!1,a.displayDropdown=!1)})}}}]).directive("stopClose",function(){return{restrict:"A",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),function(a){function b(){a(c).parent().removeClass("open")}var c='[data-toggle="dropdown"]',d=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.hasClass("dropdown-nested")||c.parent().removeClass("open")})};d.prototype={constructor:d,toggle:function(c){var d,e,f,g=a(this);if(!g.is(".disabled, :disabled")){e=g.attr("data-target"),e||(e=g.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),d=a(e),d.length||(d=g.parent()),f=d.hasClass("open");var h=g.hasClass("dropdown-nested");return!f&&h?d.addClass("nesting"):b(),f||($(".dropdown.open.nesting").removeClass("open nesting"),d.toggleClass("open")),!1}}},a.fn.dropdown=function(b){return this.each(function(){var c=a(this),e=c.data("dropdown");e||c.data("dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})},a.fn.dropdown.Constructor=d,a(function(){a("html").on("click.dropdown.data-api",b),a("body").on("click.dropdown",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",c,d.prototype.toggle)})}(window.jQuery),angular.module("ark-components").controller("arkNestedSearchCtrl",["$scope","$timeout",function(a,b){a.searchResults=[],a.currSearchIndex="",a.collapseList=[],a.$watch("search.searchValue",function(c,d){c!==d&&(a.delayPromise=b(function(){if(c===a.search.searchValue){var d=a.config.caseSensitive?c:c.toLowerCase();if(d.length<a.config.minChars)a.clearSearchResults(),a.lastSearch="";else if(a.lastSearch&&0!==a.lastSearch.length&&0===d.indexOf(a.lastSearch)){for(var e=[],f=0;f<a.searchResults.length;f++)for(var g=0;g<a.config.searchParam.length;g++)if("string"==typeof a.searchResults[f][0][a.config.searchParam[g]]){var h=a.config.caseSensitive?a.searchResults[f][0][a.config.searchParam[g]]:a.searchResults[f][0][a.config.searchParam[g]].toLowerCase();if(a.config.indexSensitive?0===h.indexOf(d):h.indexOf(d)>=0){e.push(a.searchResults[f]);break}a.searchResults[f][0].secondarySearchResult=!1,a.searchResults[f][0].primarySearchResult=!1,a.toggleExpand(!1,f)}a.searchResults=e,a.switchPrimaryResult("init"),a.lastSearch=d}else{a.clearSearchResults(),a.currDepth=0;for(var i=0;i<a.model.length;i++)a.recursiveSearch(a.model[i],d,a.recursionResultFound);a.switchPrimaryResult("init"),a.lastSearch=d}a.callback&&a.callback({results:a.searchResults}),b.cancel(a.delayPromise),a.delayPromise=null}},a.config.delay))}),a.recursiveSearch=function(b,c,d){if(a.currDepth+=1,a.currDepth>=a.config.minDepth)for(var e=0;e<a.config.searchParam.length;e++)if("string"==typeof b[a.config.searchParam[e]]){var f=a.config.caseSensitive?b[a.config.searchParam[e]]:b[a.config.searchParam[e]].toLowerCase();if(a.config.indexSensitive?0===f.indexOf(c):f.indexOf(c)>=0){d(b);break}}if(b[a.config.expandedParam]||a.collapseList.push(b),a.currDepth<=a.config.maxDepth&&b[a.config.subTreeParam])for(var g=0;g<b[a.config.subTreeParam].length;g++)a.recursiveSearch(b[a.config.subTreeParam][g],c,d);b[a.config.expandedParam]||a.collapseList.pop(),a.currDepth-=1},a.recursionResultFound=function(b){var c=a.searchResults.push([b,a.collapseList.slice(0)])-1;b.secondarySearchResult=!0,"find"===a.config.expandResults&&a.toggleExpand(!0,c)},a.switchPrimaryResult=function(b){switch(b){case"init":a.searchResults.length>0&&(a.currSearchIndex=0,a.searchResults[a.currSearchIndex][0].primarySearchResult=!0);break;case"next":a.searchResults[a.currSearchIndex][0].primarySearchResult=!1,a.toggleExpand(!1,a.currSearchIndex),a.currSearchIndex=a.currSearchIndex>=0&&a.currSearchIndex<a.searchResults.length-1?a.currSearchIndex+1:0,a.searchResults[a.currSearchIndex][0].primarySearchResult=!0;break;case"previous":a.searchResults[a.currSearchIndex][0].primarySearchResult=!1,a.toggleExpand(!1,a.currSearchIndex),a.currSearchIndex=a.currSearchIndex>0?a.currSearchIndex-1:a.searchResults.length-1,a.searchResults[a.currSearchIndex][0].primarySearchResult=!0}a.toggleExpand(!0,a.currSearchIndex)},a.toggleExpand=function(b,c){if(a.searchResults.length>0&&a.searchResults[c][1])for(var d=0;d<a.searchResults[c][1].length;d++)a.searchResults[c][1][d][a.config.expandedParam]=b},a.clearSearchResults=function(){for(var b=0;b<a.searchResults.length;b++)a.searchResults[b][0].secondarySearchResult=!1,a.searchResults[b][0].primarySearchResult=!1,a.toggleExpand(!1,b);a.searchResults=[],a.collapseList=[],a.currSearchIndex=""},a.searchKeyPress=function(b){a.searchResults.length&&(40===b.which?(a.switchPrimaryResult("next"),b.preventDefault()):38===b.which&&(a.switchPrimaryResult("previous"),b.preventDefault()))}}]),angular.module("ark-components").directive("arkNestedSearch",function(){return{restrict:"E",scope:{config:"=searchOptions",model:"=treeModel",callback:"&"},templateUrl:"ark-nested-search/ark-nested-search.html",controller:"arkNestedSearchCtrl",link:function(a){a.config.caseSensitive=a.config.caseSensitive||!1,a.config.indexSensitive=a.config.indexSensitive||!1,a.config.maxDepth=a.config.maxDepth||Number.POSITIVE_INFINITY,a.config.minDepth=a.config.minDepth||0,a.config.expandResults=a.config.expandResults||"focus",a.config.searchParam=a.config.searchParam||["label"],a.config.subTreeParam=a.config.subTreeParam||"items",a.config.expandedParam=a.config.expandedParam||"expanded",a.config.delay=a.config.delay||0,a.config.minChars=a.config.minChars||1,a.search={searchValue:""}}}}),angular.module("ark-components").directive("arkNestedTree",["$rootScope",function(a){return{restrict:"AE",scope:{treeName:"@",model:"=treeModel",config:"=treeConfig",setSelection:"=",setCheckbox:"=",lazyLoading:"@useLazyLoading",restService:"=",setEdited:"=",startEditing:"=",preselectedNodeId:"=?preselectedNodeId"},templateUrl:"ark-nested-tree/ark-nested-tree.html",controller:"dropdownTreeCtrl",link:function(b,c,d){a.templateIndex=0,b.checkbox=b.$eval(d.checkbox)||!1,b.editMode=b.$eval(d.editMode)||!1,b.lazyLoading=b.$eval(d.lazyLoading)||!1,b.showBorder=angular.isDefined(d.showBorder)?b.$eval(d.showBorder):!0,b.dropdownArrow=angular.isDefined(d.dropdownArrow)?b.$eval(d.dropdownArrow):!0,b.highlightNode=b.$eval(d.highlight),void 0===b.highlightNode&&(b.highlightNode=!b.checkbox),b.treeInfo={currentSelectedNode:null},b.element=c,b.useLeafsOnly?b.useLeafsOnly=!0:b.useLeafsOnly=!1}}}]),angular.module("ark-components").factory("ArkNestedTreeService",function(){var a={};return a.augmentNode=function(b,c){var d=c.id||0;b.isShow=b.isShow||!0,b.expanded=b.expanded||!1,b.parentId=d,b.isGroup=b.items?!0:!1;var e=0,f=!1;if(b.items)for(var g=0;g<b.items.length;g++)a.augmentNode(b.items[g],b),b.items[g].isChecked&&!b.items[g].isMid&&e++,b.items[g].isMid&&(f=!0);b.isMid=b.isMid||(f||e>0)&&e!==b.items.length||!1,b.isChecked=c.isChecked||b.isMid||b.isChecked||b.items&&b.items.length>0&&e===b.items.length||!1},a.addNode=function(b,c){var d=null;c.items&&!c.length?(d=c.items,a.augmentNode(b,c)):!c.items&&c.length&&(d=c,a.augmentNode(b,c));for(var e=!1,f=0;f<d.length;f++)if(d[f].id===b.id){e=!0;break}e||d.push(b)},a.deleteNode=function(a,b){if(b){var c=null;b.items&&!b.length?c=b.items:!b.items&&b.length&&(c=b);for(var d=0;d<c.length;d++)if(a===c[d].id){c.splice(d,1);break}}},a}),angular.module("ark-components").directive("treeAutofocus",["$timeout",function(a){return{link:function(b,c,d){var e=d.treeAutofocus;e&&a(function(){c[0].focus()})}}}]).directive("treeEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.treeEnter)}),b.preventDefault())})}}).directive("treeModel",["$compile","$log","$templateCache","$rootScope",function(a,b,c,d){return{restrict:"AE",link:function(e,f,g){var h={"use-inline-controls":!1,"enable-add-group-control":!0,"add-group-icon":"icon-folder-add","add-group-callback":null,"enable-add-item-control":!0,"add-item-icon":"icon-add","add-item-callback":null,"enable-delete-item-control":!0,"delete-item-icon":"icon-trash","delete-item-callback":null,"allow-folder-edition":!0,"max-group-depth":3};e.tempCheckedOptions=[];var i,j=g.treeId,k=g.treeModel||"model",l=g.nodeId||"id",m=g.nodeLeafIds||"leafIds",n=g.nodeLabel||"label",o=g.nodeIcon||"icon",p=g.nodeChildren||"items",q=g.numOfChildren||"numberOfItems",r=g.treeName||"",s=g.selectorIndex||"0",t=g.nodeHtmlContent||"htmlContent",u=g.maxChildHeight||"maxHeight",v=parseInt(g.levelDepth)+1,w=angular.extend(h,e.config||{}),x="(node.isChecked || !selectedOnly) && node.isShow",y="(dropdownArrow && !node.unselectable && (node."+q+" || node."+p+".length))",z={},A="<ul ng-class=\"{'default-cursor': editMode, 'max-height-set': node."+u+" && (node."+q+" > node."+u+" || node."+p+".length > node."+u+')}" style="max-height: {{ node.'+u+'*23.55 }}px"><li ng-repeat="node in '+k+"\" ng-class=\"{'first-depth' : "+v+' === 1}"><div class="node-row-container" ng-init="initSelectedNode(node)" ng-class="{\'node-selected\': node.isSelected && highlightNode, \'highlight-node\': highlightNode, \'unselectable\' : node.unselectable}" ng-click="setSelectedNode()" ><span class="blank" ng-show="('+v+" === 1 && !"+y+" && "+x+") || ("+v+"!== 1 && (!dropdownArrow || node.unselectable) && (node."+q+" || node."+p+'.length))"><span class="blank fonticon icon-chevron-left"></span></span><span class="elbow" ng-show="'+v+" !== 1 && !node."+p+".length && !node."+q+" && "+x+'"><span class="elbow fonticon icon-chevron-left"></span></span><span class="collapsed" ng-show="'+y+" && !node.expanded && "+x+'" ng-click="'+j+'.selectNode(node)"><span class="collapsed fonticon icon-dropdown-arrow"></span></span><span class= "expanded" ng-show="'+y+" && node.expanded  && "+x+'" ng-click="'+j+'.selectNode(node)"><span class="expanded fonticon icon-dropdown-arrow"></span></span><span ng-if="(checkbox) || (!checkbox && node.needCheckbox)"><span ng-if="node.needCheckbox !== false"><span class="triCheckbox" ng-show="'+x+"\" ng-class=\"{'mid' : node.isMid, 'checked' : node.isChecked}\" ng-click=\"("+e.useLeafsOnly+" && node."+q+") ||"+j+'.selectCheckbox(node);"><span class="fonticon" ng-show="'+!e.useLeafsOnly+" || !node."+q+"\" ng-class=\"{'icon-checkbox' : !node.isChecked && !node.isMid, 'icon-checkbox-tick' : node.isChecked && !node.isMid, 'icon-select-yes' : node.isChecked && node.isMid}\"></span><span class=\"fonticon\" ng-show=\""+e.useLeafsOnly+" && node."+q+"\" ng-class=\"{'icon-folder' : !node.expanded, 'icon-folder-open' : node.expanded}\" ng-click=\""+j+'.selectNode(node)"></span></span></span></span><span ng-if="(checkbox && (node.needCheckbox === false))" class="need-checkbox-off-padding"></span><span ng-if="!node.'+t+'" class="node-label" ng-show="'+x+' && !editMode" ng-click="'+j+'.selectNode(node)"><span class="nodeLabel" ng-class="{primarySearchResult: node.primarySearchResult, secondarySearchResult: node.secondarySearchResult, \'unselectable\' : node.unselectable}"><span ng-if="hasIcons()" class="fonticon {{node.'+o+'}}"></span>{{node.'+n+'}}</span></span><span ng-if="node.'+t+'" class="node-label" ng-init="createLabelTemplate(node)" ng-show="'+x+' && !editMode" ng-click="'+j+'.selectNode(node)"><span class="nodeLabel" ng-class="{primarySearchResult: node.primarySearchResult, secondarySearchResult: node.secondarySearchResult, \'unselectable\' : node.unselectable}"><span ng-if="hasIcons()" class="fonticon {{node.'+o+'}}"></span><span ng-include="node.templateUrl" ng-class="{\'unselectable\' : node.unselectable}"></span></span></span><span ng-if="editMode" class="edit-wrapper" ng-init="node.isEditing=((node.isNew) ? true:false)"><input class="form-control" type="text" ng-model="node.'+n+'" tree-enter="setEditMode(node.isEditing)" ng-if="node.isEditing" ng-blur="setEditMode(node.isEditing)" tree-autofocus="true"/><span class="edit-label" ng-click="setEditMode(node.isEditing)" ng-if="!node.isEditing" ng-class="{primarySearchResult: node.primarySearchResult, secondarySearchResult: node.secondarySearchResult, \'unselectable\' : node.unselectable}"><span ng-if="hasIcons()" class="fonticon {{node.'+o+'}}"></span>{{node.'+n+'}}</span></span><span class="inline-controls" ng-show="'+w["use-inline-controls"]+'"><a class="pull-right inline-control-icon" ng-show="'+w["enable-delete-item-control"]+'"><span class="fonticon '+w["delete-item-icon"]+'" ng-click="deleteNode()"></span></a><a class="pull-right inline-control-icon" ng-show="{{'+(w["enable-add-group-control"]&&v<w["max-group-depth"])+' && node.isGroup }}"><span class="fonticon '+w["add-group-icon"]+'" ng-click="addGroupToNode()"></span></a><a class="pull-right inline-control-icon" ng-show="{{'+(w["enable-add-item-control"]&&v<w["max-group-depth"])+' && node.isGroup }}"><span class="fonticon '+w["add-item-icon"]+'" ng-click="addItemToNode()"></span></a></span></div><span ng-show="node.expanded && '+x+'" tree-id="'+j+'" tree-model="node.'+p+'" node-id="'+l+'" node-label="'+n+'" node-children="'+p+'" tree-name="'+r+'" level-depth="'+v+'" selector-index = "'+s+'"></span></li></ul>';e.createLabelTemplate=function(a){var b="label-template"+d.templateIndex++;c.put(b,a.htmlContent),a.templateUrl=b},e.addItemToNode=function(){e.node.expanded=!0,e.node[p].push({label:"",parentId:e.node.id||0,isShow:!0,isEditing:!0,isNew:!0})},e.addGroupToNode=function(){e.node.expanded=!0,e.node[p].push({label:"",parentId:e.node.id||0,isShow:!0,isGroup:!0,isEditing:!0,isNew:!0,items:[]})},e.deleteNode=function(){w["delete-item-callback"]&&w["delete-item-callback"](e.node)},e.setEditMode=function(a){(e.node[p]&&w["allow-folder-edition"]||!e.node[p])&&(e.node.isEditing=!a,a?(e.node.isNew?(e.node.isNew=!1,e.node.isGroup||"function"!=typeof w["add-item-callback"]?e.node.isGroup&&"function"==typeof w["add-group-callback"]&&w["add-group-callback"](e.node):w["add-item-callback"](e.node)):"function"==typeof e.setEdited&&e.setEdited(z,e.node),i=void 0,z={}):("function"==typeof e.startEditing&&e.startEditing(e.node),z=angular.copy(e.node)))},e.hasIcons=function(){var a=e.node[o]?!0:!1;return a},e.setSelectedNode=function(){e.node.unselectable||(e.treeInfo.currentSelectedNode&&(e.treeInfo.currentSelectedNode.isSelected=!1),e.node.isSelected=!0,e.treeInfo.currentSelectedNode=e.node)},e.initSelectedNode=function(a){if(angular.isDefined(a.id)&&a.id===e.preselectedNodeId){a.isSelected=!0,e.treeInfo.currentSelectedNode=a;for(var b=a.parentId;0!==b;)b=B(e.model,b)}else a.isSelected=!1};var B=function(a,b){for(var c=0;c<a.length;c++)if(a[c].id===b)return a[c].expanded=!0,a[c].parentId;for(var c=0;c<a.length;c++)if(a[c].items){var d=B(a[c].items,b);if(d)return d}return 0},C=function(a){if(a[p]&&a.expanded)for(var b=0;b<a[p].length;b++)a[p][b].isShow=!0,a[p][b].expanded=!1},D=function(a){angular.isArray(a)&&angular.forEach(a,function(a){e.useLeafsOnly?a.isChecked&&(a.numberOfItems?D(a[p]):(e.model.values.push(a[l]),a.externalId?e.model.names.push(a.externalId):e.model.names.push(a[n]))):a.isChecked&&!a.isMid?(e.useLeafIds?angular.forEach(a[m],function(a){e.model.values.push(a)}):e.model.values.push(a[l]),e.model.names.push(a[n])):a.isMid&&D(a[p])})};j&&k&&(g.filterTreeview&&(e[j]=e[j]||{},e[j].selectNode=e[j].selectNode||function(a){angular.isDefined(e.setSelection)&&e.setSelection(a),a.unselectable||(a.expanded=!a.expanded);var c=a[q]>0&&(!a[p]||!a[p].length),d=e.lazyLoading;d&&a.expanded&&c&&(e.restService?e.restService.getNodeChildren(r,a[l],function(b){angular.forEach(b,function(b){b.isChecked=b.isChecked||!1,b.isMid=b.isMid||!1,b.isShow=b.isShow||!0,b.expanded=b.expanded||!1,b.parentId=a[l],a.isChecked&&(b.isChecked=!0)}),a[p]=b,C(a)}):b.error("No service is provided for lazy loading"))},e[j].updateSelected=e[j].updateSelected||function(){e.model.values&&e.model.names&&(e.model.values.splice(0,e.model.values.length),e.model.names.splice(0,e.model.names.length),D(e[k]))},e[j].checkBox=e[j].checkBox||function(a){a.isChecked=!0,a.isMid=!1,e[j].updateSelected(),e.tempCheckedOptions.push({node:a,checkType:"checked"})},e[j].uncheckBox=e[j].uncheckBox||function(a){a.isChecked=!1,a.isMid=!1,e[j].updateSelected(),e.tempCheckedOptions.push({node:a,checkType:"unchecked"})},e[j].midcheckBox=e[j].midcheckBox||function(a){a.isChecked=!0,a.isMid=!0,e[j].updateSelected(),e.tempCheckedOptions.push({node:a,checkType:"midchecked"})},e[j].checkAllChildren=function(a){if(a[p])for(var b=0;b<a[p].length;b++)e[j].checkBox(a[p][b]),e[j].checkAllChildren(a[p][b])},e[j].uncheckAllChildren=function(a){if(a[p])for(var b=0;b<a[p].length;b++)e[j].uncheckBox(a[p][b]),e[j].uncheckAllChildren(a[p][b])},e[j].selectCheckbox=e[j].selectCheckbox||function(a){if(!a.isChecked||a.isMid){e[j].checkBox(a),e[j].checkAllChildren(a),e[j].checkParent=function(a,b){var c=!1;if(a[p])for(var d=0;d<a[p].length;d++)if(a[p][d]===b){c=!0;break}if(c){var f=!0;if(a[p])for(var d=0;d<a[p].length;d++)if(!a[p][d].isChecked||a[p][d].isMid){f=!1;break}if(f){e[j].checkBox(a);for(var g=!1,d=0;d<e[k].length;d++)if(a===e[k][d]){g=!0;break}if(!g)for(var h=0;h<e[k].length;h++)e[j].checkParent(e[k][h],a)}else{e[j].midcheckBox(a),g=!1;for(var d=0;d<e[k].length;d++)if(a===e[k][d]){g=!0;break}if(!g)for(var h=0;h<e[k].length;h++)e[j].checkParent(e[k][h],a)}}else if(a[p])for(var d=0;d<a[p].length;d++)e[j].checkParent(a[p][d],b)};for(var b=0;b<e[k].length;b++)e[j].checkParent(e[k][b],a)}else if(!a.isMid){e[j].uncheckBox(a),e[j].uncheckAllChildren(a),e[j].uncheckParent=function(a,b){var c=!1;if(a[p])for(var d=0;d<a[p].length;d++)if(a[p][d]===b){c=!0;break}if(c){var f=!0;if(a[p])for(var d=0;d<a[p].length;d++)if(a[p][d].isChecked){f=!1;break}if(f){e[j].uncheckBox(a);for(var g=!1,d=0;d<e[k].length;d++)if(a===e[k][d]){g=!0;break}if(!g)for(var h=0;h<e[k].length;h++)e[j].uncheckParent(e[k][h],a)}else{e[j].midcheckBox(a),g=!1;for(var d=0;d<e[k].length;d++)if(a===e[k][d]){g=!0;break}if(!g)for(var h=0;h<e[k].length;h++)e[j].uncheckParent(e[k][h],a)}}else if(a[p])for(var d=0;d<a[p].length;d++)e[j].uncheckParent(a[p][d],b)};for(var b=0;b<e[k].length;b++)e[j].uncheckParent(e[k][b],a)}angular.isDefined(e.setCheckbox)&&e.setCheckbox(e.tempCheckedOptions),e.tempCheckedOptions=[]}),f.html("").append(a(A)(e)))}}}]),angular.module("ark-components").controller("dropdownTreeCtrl",["$scope","$log","ArkNestedTreeService",function(a,b,c){a.filterData=[],a.populateFilter=function(b){b&&b.items?a.filterData=b.items:b&&!b.items&&(a.filterData=b);for(var d=0;d<a.filterData.length;d++)c.augmentNode(a.filterData[d],a.filterData)},a.$watch("model",function(){a.model&&a.populateFilter(a.model)})}]),angular.module("ark-components").provider("$selectTooltip",function(){var a=this.defaults={animation:"am-fade",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"ark-select/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF",function(b,c,d,e,f,g,h,i,j){function k(b,e){function f(){return"body"===r.container?i.offset(r.target||b[0]):i.position(r.target||b[0])}function g(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d;break;case"bottom":e.top=b.top+b.height}return e}var k={},q=b[0].nodeName.toLowerCase(),r=k.$options=angular.extend({},a,e);k.$promise=m(r.template);var s=k.$scope=r.scope&&r.scope.$new()||c.$new();r.delay&&angular.isString(r.delay)&&(r.delay=parseFloat(r.delay)),r.title&&(k.$scope.title=r.title),s.$hide=function(){s.$$postDigest(function(){k.hide()})},s.$show=function(){s.$$postDigest(function(){k.show()})},s.$toggle=function(){s.$$postDigest(function(){k.toggle()})},k.$isShown=s.$isShown=!1;var t,u;r.contentTemplate&&(k.$promise=k.$promise.then(function(a){var b=angular.element(a);return m(r.contentTemplate).then(function(a){var c=l('[ng-bind="content"]',b[0]);return c.length||(c=l('[ng-bind="title"]',b[0])),c.removeAttr("ng-bind").html(a),b[0].outerHTML})}));var v,w,x,y;return k.$promise.then(function(a){angular.isObject(a)&&(a=a.data),r.html&&(a=a.replace(p,'ng-bind-html="')),a=n.apply(a),x=a,v=d(a),k.init()}),k.init=function(){r.delay&&angular.isNumber(r.delay)&&(r.delay={show:r.delay,hide:r.delay}),"self"===r.container?y=b:r.container&&(y=l(r.container));var a=r.trigger.split(" ");angular.forEach(a,function(a){"click"===a?b.on("click",k.toggle):"manual"!==a&&(b.on("hover"===a?"mouseenter":"focus",k.enter),b.on("hover"===a?"mouseleave":"blur",k.leave),"button"===q&&"hover"!==a&&b.on(o?"touchstart":"mousedown",k.$onFocusElementMouseDown))}),r.target&&(r.target=angular.isElement(r.target)?r.target:l(r.target)[0]),r.show&&s.$$postDigest(function(){"focus"===r.trigger?b[0].focus():k.show()})},k.destroy=function(){for(var a=r.trigger.split(" "),c=a.length;c--;){var d=a[c];"click"===d?b.off("click",k.toggle):"manual"!==d&&(b.off("hover"===d?"mouseenter":"focus",k.enter),b.off("hover"===d?"mouseleave":"blur",k.leave),"button"===q&&"hover"!==d&&b.off(o?"touchstart":"mousedown",k.$onFocusElementMouseDown))}w&&(w.remove(),w=null),clearTimeout(t),s.$destroy()},k.enter=function(){return clearTimeout(t),u="in",r.delay&&r.delay.show?void(t=setTimeout(function(){"in"===u&&k.show()},r.delay.show)):k.show()},k.show=function(){s.$emit(r.prefixEvent+".show.before",k);var a=r.container?y:null,c=r.container?null:b;w&&w.remove(),w=k.$element=v(s,function(a,b){}),w.css({top:"0px",left:"0px",display:"block"}).addClass(r.placement),r.animation&&w.addClass(r.animation),r.type&&w.addClass(r.prefixClass+"-"+r.type),h.enter(w,a,c,function(){s.$emit(r.prefixEvent+".show",k)}),k.$isShown=s.$isShown=!0,s.$$phase||s.$root&&s.$root.$$phase||s.$digest(),j(k.$applyPlacement),r.keyboard&&("focus"!==r.trigger?(k.focus(),w.on("keyup",k.$onKeyUp)):b.on("keyup",k.$onFocusKeyUp))},k.leave=function(){return clearTimeout(t),u="out",r.delay&&r.delay.hide?void(t=setTimeout(function(){"out"===u&&k.hide()},r.delay.hide)):k.hide()},k.hide=function(a){return k.$isShown?(s.$emit(r.prefixEvent+".hide.before",k),h.leave(w,function(){s.$emit(r.prefixEvent+".hide",k)}),k.$isShown=s.$isShown=!1,s.$$phase||s.$root&&s.$root.$$phase||s.$digest(),r.keyboard&&null!==w&&w.off("keyup",k.$onKeyUp),a&&"focus"===r.trigger?b[0].blur():void 0):void 0},k.toggle=function(){k.$isShown?k.leave():k.enter()},k.focus=function(){w[0].focus()},k.$applyPlacement=function(){if(w){var a=f(),b=w.prop("offsetWidth"),c=w.prop("offsetHeight"),d=g(r.placement,a,b,c);d.top+="px",d.left+="px",w.css(d),w.children().css(d)}},k.$onKeyUp=function(a){27===a.which&&k.hide()},k.$onFocusKeyUp=function(a){27===a.which&&b[0].blur()},k.$onFocusElementMouseDown=function(a){a.preventDefault(),a.stopPropagation(),k.$isShown?b[0].blur():b[0].focus()},k}function l(a,b){return angular.element((b||document).querySelectorAll(a))}function m(a){return e.when(f.get(a)||g.get(a)).then(function(b){return angular.isObject(b)?(f.put(a,b.data),b.data):b})}var n=String.prototype.trim,o="createTouch"in b.document,p=/ng-bind="/gi;return k}]}).directive("bsTooltip",["$window","$location","$sce","$selectTooltip","$$rAF",function(a,b,c,d,e){return{restrict:"EAC",scope:!0,link:function(a,b,f){var g={scope:a};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])}),angular.forEach(["title"],function(b){f[b]&&f.$observe(b,function(d,f){a[b]=c.trustAsHtml(d),angular.isDefined(f)&&e(function(){h&&h.$applyPlacement()})})}),f.bsTooltip&&a.$watch(f.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&e(function(){h&&h.$applyPlacement()})},!0);var h=d(b,g);a.$on("$destroy",function(){h.destroy(),g=null,h=null})}}}]).provider("$select",function(){var a=this.defaults={animation:"am-fade",prefixClass:"select",placement:"bottom-left",template:"ark-select/ark-select.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,sort:!1,caretHtml:'&nbsp;<span class="fonticon icon-dropdown-arrow"></span>',placeholder:"Choose among the following...",maxLength:2,maxLengthHtml:"selected",iconCheckmark:"fonticon fonticon-ok icon-tick check-mark",parentId:""};this.$get=["$window","$document","$rootScope","$selectTooltip",function(b,c,d,e){function f(b,c,d){var f={},h=angular.extend({},a,d);f=e(b,h);var i=f.$scope;i.$matches=[],i.$activeIndex=0,i.$isMultiple=h.multiple,i.$iconCheckmark=h.iconCheckmark,i.$parentId=h.parentId,i.$activate=function(a){i.$$postDigest(function(){f.activate(a)})},i.$select=function(a){i.$$postDigest(function(){f.select(a)})},i.$isVisible=function(){return f.$isVisible()},i.$isActive=function(a){return f.$isActive(a)},f.update=function(a){i.$matches=a,f.$updateActiveIndex()},f.activate=function(a){return h.multiple?(i.$activeIndex.sort(),f.$isActive(a)?i.$activeIndex.splice(i.$activeIndex.indexOf(a),1):i.$activeIndex.push(a),h.sort&&i.$activeIndex.sort()):i.$activeIndex=a,i.$activeIndex},f.select=function(a){var b=i.$matches[a].value;i.$apply(function(){f.activate(a),h.multiple?c.$setViewValue(i.$activeIndex.map(function(a){return i.$matches[a].value})):(c.$setViewValue(b),f.hide())}),i.$emit("$select.select",b,a)},f.$updateActiveIndex=function(){if(c.$modelValue&&i.$matches.length)if(h.multiple&&angular.isArray(c.$modelValue)){for(var a=!0,b=0;b<c.$modelValue.length&&(a="undefined"!=typeof f.$getIndex(c.$modelValue[b]),a);b++);i.$activeIndex=a?c.$modelValue.map(function(a){return f.$getIndex(a)}):[]}else i.$activeIndex=f.$getIndex(c.$modelValue);else i.$activeIndex>=i.$matches.length&&(i.$activeIndex=h.multiple?[]:0)},f.$isVisible=function(){return h.minLength&&c?i.$matches.length&&c.$viewValue.length>=h.minLength:i.$matches.length},f.$isActive=function(a){return h.multiple?-1!==i.$activeIndex.indexOf(a):i.$activeIndex===a},f.$getIndex=function(a){var b=i.$matches.length,c=b;if(b){for(c=b;c--&&i.$matches[c].value!==a;);if(!(0>c))return c}},f.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),g){var b=angular.element(a.target);b.triggerHandler("click")}},f.$onKeyDown=function(a){if(/(9|13|38|40)/.test(a.keyCode)){if(a.preventDefault(),a.stopPropagation(),!h.multiple&&(13===a.keyCode||9===a.keyCode))return f.select(i.$activeIndex);38===a.keyCode&&i.$activeIndex>0?i.$activeIndex--:40===a.keyCode&&i.$activeIndex<i.$matches.length-1?i.$activeIndex++:angular.isUndefined(i.$activeIndex)&&(i.$activeIndex=0),i.$digest()}},f.$updateParentId=function(a){i.$parentId=a};var j=f.show;f.show=function(){j(),h.multiple&&f.$element.addClass("select-multiple"),setTimeout(function(){f.$element.on(g?"touchstart":"mousedown",f.$onMouseDown),h.keyboard&&b.on("keydown",f.$onKeyDown)})};var k=f.hide;return f.hide=function(){f.$element.off(g?"touchstart":"mousedown",f.$onMouseDown),h.keyboard&&b.off("keydown",f.$onKeyDown),k(!0)},f}var g="createTouch"in b.document;return f.defaults=a,f}]}).directive("arkSelect",["$window","$parse","$q","$select","$parseOptions",function(a,b,c,d,e){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(a,b,c,g){var h={scope:a};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","maxLength","maxLengthHtml"],function(a){angular.isDefined(c[a])&&(h[a]=c[a])}),"select"===b[0].nodeName.toLowerCase()){var i=b;i.css("display","none"),b=angular.element('<div class="btn-group bootstrap-select"><button type="button" class="btn btn-default dropdown-toggle selectpicker btn-default"></button></div>'),i.after(b)}a.$watch("element.context.id",function(){k.$updateParentId(b.context.id)});var j=e(c.ngOptions),k=d(b,g,h),l=j.$match[7].trim();a.$watch(l,function(){j.valuesFn(a,g).then(function(a){k.update(a),g.$render()})},!0),a.$watch(c.ngModel,function(){k.$updateActiveIndex(),g.$render()},!0),g.$render=function(){var a,d;h.multiple&&angular.isArray(g.$modelValue)?(a=g.$modelValue.map(function(a){return d=k.$getIndex(a),angular.isDefined(d)?k.$scope.$matches[d].label:h.placeholder}).filter(angular.isDefined),a=a.length>(h.maxLength||f.maxLength)?a.length+" "+(h.maxLengthHtml||f.maxLengthHtml):a.join(", ")):(d=k.$getIndex(g.$modelValue),a=angular.isDefined(d)?k.$scope.$matches[d].label:!1),c.multiple?b.html('<span class="filter-option">'+(a?a:c.placeholder||f.placeholder)+'</span><span class="fonticon icon-pencil"></span>'):b.html('<span class="filter-option">'+(a?a:c.placeholder||f.placeholder)+"</span>"+f.caretHtml)},a.$on("$destroy",function(){k.destroy(),h=null,k=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]),angular.module("ark-components").factory("dimensions",function(){var a={},b=a.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};a.css=function(a,b,c){var d;return d=a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a)[b]:a.style[b],c===!0?parseFloat(d)||0:d},a.offset=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument;return{width:b.width||a.offsetWidth,height:b.height||a.offsetHeight,top:b.top+(window.pageYOffset||c.documentElement.scrollTop)-(c.documentElement.clientTop||0),left:b.left+(window.pageXOffset||c.documentElement.scrollLeft)-(c.documentElement.clientLeft||0)}},a.position=function(d){var e,f,g={top:0,left:0};return"fixed"===a.css(d,"position")?f=d.getBoundingClientRect():(e=c(d),f=a.offset(d),f=a.offset(d),b(e,"html")||(g=a.offset(e)),g.top+=a.css(e,"borderTopWidth",!0),g.left+=a.css(e,"borderLeftWidth",!0)),{width:d.offsetWidth,height:d.offsetHeight,top:f.top-g.top-a.css(d,"marginTop",!0),left:f.left-g.left-a.css(d,"marginLeft",!0)}};var c=function(c){var d=c.ownerDocument,e=c.offsetParent||d;if(b(e,"#document"))return d.documentElement;for(;e&&!b(e,"html")&&"static"===a.css(e,"position");)e=e.offsetParent;return e||d.documentElement};return a.height=function(b,c){var d=b.offsetHeight;return c?d+=a.css(b,"marginTop",!0)+a.css(b,"marginBottom",!0):d-=a.css(b,"paddingTop",!0)+a.css(b,"paddingBottom",!0)+a.css(b,"borderTopWidth",!0)+a.css(b,"borderBottomWidth",!0),d},a.width=function(b,c){var d=b.offsetWidth;return c?d+=a.css(b,"marginLeft",!0)+a.css(b,"marginRight",!0):d-=a.css(b,"paddingLeft",!0)+a.css(b,"paddingRight",!0)+a.css(b,"borderLeftWidth",!0)+a.css(b,"borderRightWidth",!0),d},a}).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f)||c,{label:d,value:e}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),
j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return g.$values=b?f(b,a):{},g.$values})},g.init(),g}return d}]}),angular.module("ark-components").controller("arkSideTabsCtrl",["$scope",function(a){a.selectedItemIndex=a.activeTab&&a.tabsList[a.activeTab]?a.activeTab:0,a.activeTab=a.selectedItemIndex,a.selectedTemplate=a.tabsList[a.selectedItemIndex].templateUrl,a.$watch("activeTab",function(){a.selectedItemIndex=a.tabsList[a.activeTab]?a.activeTab:a.selectedItemIndex,a.activeTab=a.selectedItemIndex,a.selectedTemplate=a.tabsList[a.selectedItemIndex].templateUrl}),a.setActive=function(b){a.selectedItemIndex=b,a.activeTab=b,a.selectedTemplate=a.tabsList[b].templateUrl}}]),angular.module("ark-components").directive("arkSideTabs",["$timeout","$templateCache",function(a,b){return{restrict:"E",scope:{tabsList:"=",switchReload:"@",parentData:"=parentData",activeTab:"=?activeTab"},controller:"arkSideTabsCtrl",templateUrl:"ark-side-tabs/ark-side-tabs.html",link:function(a){a.$watch("switchReload",function(b){a.reload=angular.isDefined(b)?a.$eval(a.switchReload):!1}),a.$watch("tabsList",function(c){var d=[],e=0;c.forEach(function(a){if(angular.isDefined(a.template)){var c="ark-side-tab-template"+e++;b.put(c,a.template),d.push({title:a.title,icon:a.icon,templateUrl:c})}else d.push(a)}),a.tabs=d,a.tabsList=d},!0)}}}]),angular.module("ark-components").directive("arkSidebar",function(){return{restrict:"AE",scope:{showSidebar:"=?",showShadow:"=?",template:"="},templateUrl:"ark-sidebar/ark-sidebar.html",link:function(a){void 0===a.showShadow&&(a.showShadow=!0),void 0===a.showSidebar&&(a.showSidebar=!0)}}}),angular.module("ark-components").controller("arkSliderCtrl",["$scope",function(a){a.isActive=!1,a.setActive=function(){a.isActive=!a.isActive}}]),angular.module("ark-components").directive("arkSlider",function(){return{restrict:"E",scope:{tooltip:"@",percentage:"@"},transclude:!0,controller:"arkSliderCtrl",templateUrl:"ark-slider/ark-slider.html",link:function(a,b){var c=b.find("input"),d=angular.element(c).controller("ngModel");a.useTooltip=a.$eval(a.tooltip)||!1,a.showPercentage=a.$eval(a.percentage)||!1;var e=a.useTooltip?100:85;angular.element(c).css("width",e+"%"),c&&d&&"range"===c[0].type&&a.$watch(function(){return a.inputValue=d.$viewValue,d.$viewValue},function(a){if("undefined"!=typeof a){var d=parseInt(""!==c[0].min?c[0].min:0),f=parseInt(""!==c[0].max?c[0].max:100),g=parseInt(a);b.find(".slider-fill").css("width",(g-d)/(f-d)*e+"%")}})}}}),angular.module("ark-components").controller("arkTagsCtrl",["$scope","$timeout",function(a,b){var c=this;this.restartAnimation=function(c){var d=angular.element(a.element).find("span.tag-label").eq(c).parent();d.length&&(d.removeClass("animated pulse"),b(function(){d.addClass("animated pulse")}))},a.addTag=function(){if(a.inputTag){for(var b=0;b<a.tagList.length;b++)if(a.tagList[b]===a.inputTag)return a.inputTag="",void c.restartAnimation(b);a.tagList.push(a.inputTag),a.inputTag="",a.sort&&a.tagList.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0})}else angular.element(a.element).find("#tagsinput_tag").focus()},a.removeTag=function(b){var c=a.tagList.indexOf(b);a.tagList.splice(c,1)}}]),angular.module("ark-components").directive("arkTags",function(){return{restrict:"E",scope:{tagList:"=tags"},templateUrl:"ark-tags/ark-tags.html",controller:"arkTagsCtrl",link:function(a,b,c){a.element=b,a.sort=void 0!==c.sort?!0:!1,a.tagList=a.tagList||[],a.sort&&a.tagList.length&&a.tagList.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0}),b.find("#tagsinput_tag").bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.addTag()}),b.preventDefault())})}}}),angular.module("ark-components").controller("arkTimePickerCtrl",["$scope","_",function(a,b){a.hourList=["1","2","3","4","5","6","7","8","9","10","11","12"],a.minuteList=["00","05","10","15","20","25","30","35","40","45","50","55"],a.timeZoneList=["GMT-12:00","GMT-11:00","GMT-10:00","GMT-09:00","GMT-08:00","GMT-07:00","GMT-06:00","GMT-05:00","GMT-04:30","GMT-04:00","GMT-03:30","GMT-03:00","GMT-02:00","GMT-01:00","GMT+00:00","GMT+01:00","GMT+02:00","GMT+03:00","GMT+03:30","GMT+04:00","GMT+05:00","GMT+05:30","GMT+05:45","GMT+06:00","GMT+06:30","GMT+07:00","GMT+08:00","GMT+09:00","GMT+09:30","GMT+10:00","GMT+11:00","GMT+12:00","GMT+13:00"],a.showHourList=!1,a.showMinuteList=!1,a.showTimeZoneList=!1;var c=this;a.isInvalidHour=function(){return c.isInvalidHour(a.hour,a.noon)},c.isInvalidHour=function(a,b){return!a||isNaN(a)||-1!==a.indexOf(".")||a.length>2||"AM"===b&&(parseInt(a)>12||parseInt(a)<0)||"PM"===b&&(parseInt(a)>12||parseInt(a)<1)},a.validateHour=function(){a.isInvalidHour()?a.hour=a.prevHour:a.prevHour=a.hour,a.showHourList=!1},a.addHour=function(){"AM"===a.noon?"11"===a.hour?(a.noon="PM",a.hour="12"):a.hour=parseInt(a.hour)%12+1+"":("11"===a.hour&&(a.noon="AM"),a.hour=parseInt(a.hour)%12+1+""),a.prevHour=a.hour,a.prevNoon=a.noon},a.minusHour=function(){"AM"===a.noon?"00"===a.hour||"0"===a.hour||"12"===a.hour?(a.noon="PM",a.hour="11"):a.hour=parseInt(a.hour)-1+"":("12"===a.hour&&(a.noon="AM"),a.hour="01"===a.hour||"1"===a.hour?a.hour="12":parseInt(a.hour)-1+""),a.prevHour=a.hour,a.prevNoon=a.noon},a.isInvalidMinute=function(){return c.isInvalidMinute(a.minute)},c.isInvalidMinute=function(a){return!a||isNaN(a)||-1!==a.indexOf(".")||a.length>2||parseInt(a)>59||parseInt(a)<0},a.formatNumber=function(a){return 1===a.length&&(a="0"+a),a},a.addMinute=function(){"59"===a.minute&&a.addHour(),a.minute=a.formatNumber((parseInt(a.minute)+1)%60+""),a.prevMinute=a.minute},a.minusMinute=function(){("0"===a.minute||"00"===a.minute)&&a.minusHour(),a.minute=a.formatNumber((parseInt(a.minute)+59)%60+""),a.prevMinute=a.minute},a.validateMinute=function(){a.isInvalidMinute()?a.minute=a.prevMinute:(a.minute=a.formatNumber(a.minute),a.prevMinute=a.minute),a.showMinuteList=!1},a.changeNoon=function(){"AM"===a.noon?(("0"===a.hour||"00"===a.hour)&&(a.hour="12",a.prevHour=a.hour),a.noon="PM"):a.noon="AM",a.prevNoon=a.noon},a.validateNoon=function(){"am"===a.noon.toLowerCase()||"pm"===a.noon.toLowerCase()?("pm"===a.noon.toLowerCase()&&"0"===a.hour&&(a.hour="12",a.prevHour=a.hour),a.noon=a.noon.toUpperCase(),a.prevNoon=a.noon):a.noon=a.prevNoon},c.isInvalidNoon=function(a){return"AM"!==a.toUpperCase()&&"PM"!==a.toUpperCase()},a.isInvalidTimeZone=function(){return!b.contains(a.timeZoneList,a.timeZone)},a.validateTimeZone=function(){a.isInvalidTimeZone()?a.timeZone=a.prevTimeZone:a.prevTimeZone=a.timeZone,a.showTimeZoneList=!1},a.addTimeZone=function(){a.timeZoneIndex>0&&a.timeZoneIndex--,a.timeZone=a.timeZoneList[a.timeZoneIndex],a.prevTimeZone=a.timeZone},a.minusTimeZone=function(){a.timeZoneIndex<a.timeZoneList.length-1&&a.timeZoneIndex++,a.timeZone=a.timeZoneList[a.timeZoneIndex],a.prevTimeZone=a.timeZone},a.showHour=function(){a.showHourList=!0},a.showMinute=function(){a.showMinuteList=!0},a.showTimeZone=function(){a.showTimeZoneList=!0},a.selectHour=function(b){a.hour=b,a.prevHour=b},a.selectMinute=function(b){a.minute=b,a.prevMinute=b},a.selectTimeZone=function(b,c){a.timeZone=b,a.prevTimeZone=b,a.timeZoneIndex=c},c.isInvalidFormat=function(){if(3===a.time.split(".").length||3===a.time.split(":").length){var b=a.time.split(".");if(1===b.length&&(b=a.time.split(":")),a.timezoneMode){var d,e=b[2].split("-"),f="-";1===e.length&&(e=b[2].split("+"),f="+"),b[2]=e[0],d=f+e[1],a.timeZone="GMT"+d}return 1===b[0].length&&(b[0]="0"+b[0]),1===b[1].length&&(b[1]="0"+b[1]),c.isInvalidNoon(b[2].toUpperCase())||c.isInvalidHour(b[0],b[2].toUpperCase())||c.isInvalidMinute(b[1])}return!0},c.setDefaultTime=function(){a.prevHour="9",a.hour="9",a.prevMinute="00",a.minute="00",a.prevNoon="AM",a.noon="AM",a.timeZoneIndex=7,a.prevTimeZone=a.timeZoneList[a.timeZoneIndex],a.timeZone=a.timeZoneList[a.timeZoneIndex]},c.displayNothing=function(){a.prevHour="",a.hour="",a.prevMinute="",a.minute="",a.prevNoon="",a.noon="",a.prevTimeZone="",a.timeZone=""},c.removeLeadingZero=function(a){return a.replace(/^0+/,"")},function(){if(a.time)if(c.isInvalidFormat())c.displayNothing();else{var d,e,f="-";if(3===a.time.split(".").length){var g=a.time.split(".");a.prevHour=c.removeLeadingZero(g[0]),a.hour=c.removeLeadingZero(g[0]),a.prevMinute=g[1],a.minute=g[1],a.timezoneMode&&(e=g[2].split("-"),1===e.length&&(e=g[2].split("+"),f="+"),g[2]=e[0],d=f+e[1],a.timeZoneIndex=b.indexOf(a.timeZoneList,a.timeZone),a.timeZone="GMT"+d,a.prevTimeZone="GMT"+d),a.prevNoon=g[2].toUpperCase(),a.noon=g[2].toUpperCase()}else{var h=a.time.split(":");a.prevHour=c.removeLeadingZero(h[0]),a.hour=c.removeLeadingZero(h[0]),a.prevMinute=h[1],a.minute=h[1],a.timezoneMode&&(e=h[2].split("-"),1===e.length&&(e=h[2].split("+"),f="+"),h[2]=e[0],d=f+e[1],a.timeZoneIndex=b.indexOf(a.timeZoneList,a.timeZone),a.timeZone="GMT"+d,a.prevTimeZone="GMT"+d),a.prevNoon=h[2].toUpperCase(),a.noon=h[2].toUpperCase()}}else c.setDefaultTime()}()}]),angular.module("ark-components").directive("arkTimePicker",function(){return{restrict:"E",scope:{time:"=ngModel",headerLabel:"@label",widgetMode:"@",timezoneMode:"@"},controller:"arkTimePickerCtrl",templateUrl:"ark-time-picker/ark-time-picker.html",link:function(a){a.widgetMode=a.$eval(a.widgetMode)||!1,a.timezoneMode=a.$eval(a.timezoneMode)||!1,a.$watchCollection("[hour, minute, noon, timeZone]",function(){a.time=a.hour+"."+a.minute+"."+a.noon,a.timezoneMode&&(a.time+=a.timeZone,a.time=a.time.replace("GMT",""))})}}}).directive("whilePressed",["$parse","$interval",function(a,b){return{restrict:"A",link:function(c,d,e){function f(){j(c)}function g(){d.on("mousedown",h)}function h(a){a.preventDefault(),c.$apply(j),k=b(f,l),d.on("mouseup",i),d.on("mouseleave",i)}function i(){b.cancel(k),d.off("mouseup",i),d.off("mouseleave",i)}var j=a(e.whilePressed),k=null,l=250;g()}}}]),angular.module("ark-components").service("toaster",["$rootScope",function(a){this.pop=function(b,c,d,e,f){this.toast={type:b,title:c,body:d,timeout:e,bodyOutputType:"",clickHandler:f},a.$broadcast("toaster-newToast")},this.clear=function(){a.$broadcast("toaster-clearToasts")}}]).constant("toasterConfig",{limit:0,"close-button":!1,"time-out":3e3,"icon-classes":{error:"icon-alert-circle",info:"icon-alert-info",wait:"icon-clock",success:"icon-alert-checkmark",warning:"icon-alert-triangle"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"icon-alert-info","position-class":"toast-bottom-right","title-class":"toast-title","message-class":"toast-message","check-for-navbar":!1,width:22.5}).directive("arkToaster",["$compile","$timeout","$sce","toasterConfig","toaster",function(a,b,c,d,e){return{replace:!0,restrict:"EA",scope:!0,link:function(a,c,f){function g(b){h["check-for-navbar"]&&angular.element("nav.navbar.navbar-default").length&&(window.addEventListener("scroll",a.setTop),a.setTop()),b.type=h["icon-classes"][b.type],b.type||(b.type=h["icon-class"]),i++,angular.extend(b,{id:i}),a.configureTimer(b),a.toasters.unshift(b),h.limit>0&&a.toasters.length>h.limit&&a.toasters.pop()}var h,i=0;h=angular.extend({},d,a.$eval(f.toasterOptions)),a.config={position:h["position-class"],title:h["title-class"],message:h["message-class"],closeButton:h["close-button"],width:h.width},a.configureTimer=function(c){var d="number"==typeof c.timeout?c.timeout:h["time-out"];d>0&&(c.timeout=b(function(){a.removeToast(c.id)},d))},a.setTop=function(){var a=angular.element("nav.navbar.navbar-default")[0].getBoundingClientRect(),b=a.top+a.height;switch(!0){case 0>b:c.css("bottom",0);break;case b>=0:c.css("bottom",b)}},h["check-for-navbar"]&&angular.element("nav.navbar.navbar-default").length&&a.$watch(function(){return a.toasters.length},function(b){0===b&&window.removeEventListener("scroll",a.setTop)},!0),a.toasters=[],a.$on("toaster-newToast",function(){g(e.toast)}),a.$on("toaster-clearToasts",function(){a.toasters.splice(0,a.toasters.length)})},controller:["$scope",function(a){a.stopTimer=function(a){a.timeout&&(b.cancel(a.timeout),a.timeout=null)},a.restartTimer=function(b){b.timeout||a.configureTimer(b)},a.removeToast=function(b){var c=0;for(c;c<a.toasters.length&&a.toasters[c].id!==b;c++);a.toasters.splice(c,1)},a.click=function(b){b.clickHandler&&angular.isFunction(a.$parent.$eval(b.clickHandler))?(a.$parent.$eval(b.clickHandler)(b),a.removeToast(b.id)):(angular.isString(b.clickHandler)&&console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container."),a.removeToast(b.id))}}],template:'<div id="toast-container" ng-class="config.position" style="width: {{config.width}}%"><div class="toaster-top-bar" ng-show="toasters.length > 4">{{toasters.length}} notifications<div class="toaster-hide-all" ng-click="clear()">Hide all</div></div><div ng-repeat="toaster in toasters" class="toast" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button class="toast-close-button" ng-show="config.closeButton"><span class="icon-close close toaster-dialog-close ng-scope"></span></button><div class="toaster-message-container"><span ng-class="toaster.type" class="toasterType"></span><h1><div ng-class="config.title">{{toaster.title}}</div></h1></div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}]),angular.module("ark-components").directive("arkToolbar",function(){return{restrict:"E",transclude:!1,replace:!1,scope:!0,templateUrl:"ark-toolbar/ark-toolbar.html",link:function(a,b,c){var d=c.config;a.$watch(function(){return a[d]},function(){a.options=a[d]},!0)}}}),angular.module("ark-components").directive("parseHandlers",["$compile",function(a){return{restrict:"A",scope:{handlerArray:"="},link:function(a,b,c){for(var d=0;d<a.handlerArray.length;d++)if(a.handlerArray[d].handler)if(angular.isFunction(a.handlerArray[d].handler)){var e=a.handlerArray[d].handlerName,f=a.handlerArray[d].handler;b.bind(e,function(a){f(a)})}else b.attr(a.handlerArray[d].handlerName,a.handlerArray[d].handler);else b.attr(a.handlerArray[d].handlerName,"")}}}]);